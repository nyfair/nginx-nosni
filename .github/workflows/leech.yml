name: leech

on:
  push:
    paths:
    - '.github/workflows/leech.yml'

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        url:
        - https://mega.nz/file/BP0VBbzK#Cc5MxYWD_Worn--FMorMz41f2TAIHHNP1FTF3gdoPWY
        - https://mega.nz/file/cC8SxDBR#3GE7F6Vvq96wszG5-QEo-zzKhv5O5q9B1ZzsPnSRSH8
        - https://mega.nz/file/dK8WFJIb#eRVh38FGGb_cJVYjiSfzm-EYHjjRE1ATJjoWUfcQ8Bs
        - https://mega.nz/file/obM2iSTa#OU1asIPeFNLVAwaeRevJtIsZA2CXXOh9eBUVKKLP_JY
        - https://mega.nz/file/pakRzDTJ#s_bBppXaiRWVTX3KEAw1UpigWUHn3uxfnUH3Y7IhKfo
        - https://mega.nz/file/RLNQUTLK#t19zmDowRpq8EOSqSOOVVFfPBtdWTgvlvaTp1YkSw4Q
        - https://mega.nz/file/Ya8h3KJA#Fz3wtR8lwsupOpqVmE6fq894J7xxtO6sYda-U99P9yY
        - https://mega.nz/file/dGUCQBYC#8DFWyvKNeXjReOKFFPRPoLN20K_9oSmyA4kcairjGqc
        - https://mega.nz/file/Mb1ihZAa#zq9uuPQymO4N3inxpgYjzWSnTV0tKoq_U9H5r7HwTE0
        - https://mega.nz/file/4K8D0BwD#Bj9mZp0WYM59PltPCgi1lNpbWcIb3koBLF9WVrshtM4
        - https://mega.nz/file/MGF00aoI#RNNtnpi10WGFDiu7GKRbUCwrQxbLIYVrFKdv1aWm9Ew
        - https://mega.nz/file/JH1wHQab#T45efcBc2eg4DIIuyqEMvfhNTuKg6b-g3iyrxFZ7oXw
        - https://mega.nz/file/RGFlQTAQ#tsrSF_Fk0KiPO7tNgEZKne-iqjD093jzIjgP5lHDro4
        - https://mega.nz/file/dHlWkaaR#IQYnUK5v1cJoMg_klmj1mAYi0YZK3zOafg9_N9RbQsc
        - https://mega.nz/file/MH9xVYhZ#lNPelnsJdJGC6pqfqJ23zjgT47sNBs7VRB96XrsNdqk
        - https://mega.nz/file/pOtwVBLZ#GEMbWN_ubLkQpdG0bw_E12j0u9w7oZaQovDqliJnf8w
        - https://mega.nz/file/QWEE1RDJ#KWJJfEH5K2y3TpwPkRUiL0B-NzNW8k03f7605nQwG5s
        - https://mega.nz/file/tXUV2BRb#es8mmARO_U7WOIjMQlnlDPSIID1_VXiX4NEe1frYVZw
        - https://mega.nz/file/EOkVwZrC#LPol4QGFJp55eNkMftzw9ENmYaP0Ab6IPbFfDcgsioE
        - https://mega.nz/file/JT1XCbTT#ZLCdUswaqoWyzKV3wfD8mAqSSUqnNqEVZAyaPXSXnrQ
        - https://mega.nz/file/YLdGWTCQ#pf8MlqDWoi-5k161nrbBI1RdHg_xwrUaLGhxmr3UMtQ
        - https://mega.nz/file/cT1gFaSJ#HsocXqGztcsfW9XtrDo32pYwjYS7NiIoKFVlStds-mU
        - https://mega.nz/file/MCljyCyR#0-tEutdeO0wZOJLnaSTDWYZpVPKSlizFmwOvusqur8U
        - https://mega.nz/file/gaEXBTYB#Ku6g3SFDicKqr9u0-Dk7NAXwvhredPElfPL-Eb3hCf4
        - https://mega.nz/file/FO0kVJoI#BZmy1A1SqW-ppZjtuLPeA2pQVO4lZw388ASHsKfOaCo
        - https://mega.nz/file/UOdARZgQ#Fw8EMTEvb_yd5cmSZ1L2dvo5zG2rpuGOzQPsl0Q1i9Q
        - https://mega.nz/file/MCkT3YLa#56_TqTUBNYkDpkxwqke3Ibun1AuZk63HFNDruu-IKso
        - https://mega.nz/file/caMRSCoY#SOIZwDLPyzH8Sl4zwwcok9JX1d9UtYE79rjzUti-xPM
        - https://mega.nz/file/daFHGAiQ#AvG1YAOcfIbDTYgp0q_C5-yY_viobqn-hSNk45TIWeM
        - https://mega.nz/file/weMSjTpQ#LR8SMzLm4a2AnLwjeO5HBojoE2Nrm0ApMm-GeavOjMo
        - https://mega.nz/file/Rf821TLL#GCcs3U72fGooySa4dSUSGwdROleUZ2-c9kyrZzJeOAc
        - https://mega.nz/file/BSN1nYSK#Um1p6ZBbkBfo1QfXWxlWnEoWPCqU7UThZLdJV5uQ8Ac
        - https://mega.nz/file/8CMkwQiB#MYzaBHMrvPIEZvN2dYs0YEIiEd1mueCFsFnwm-hx01Y
        - https://mega.nz/file/ReFynJqa#bUWnNEDyQ38DtkEHqJeIHxY4Uxi7QH5RCe5RVYWeHmA
        - https://mega.nz/file/BPMVXQ4A#wmKNT2mDR__vVmRFrPAndX4qBLBGZiil9-aDTWU8MRU
        - https://mega.nz/file/AWUBnRwT#MoWAWeF_qmNC8UQIzFtl70oQLgScma-PXbIhWRILgEA
        - https://mega.nz/file/wfMSmJbb#_L7Awyh0Xpe9ZQUaDH0W_sMwoJsG9ArCrLFo1_I6q_A
        - https://mega.nz/file/dbN3GDAB#f39GPxoaiJRglxbjzqTMafomw_3CklztgT6xWrIYwTY
        - https://mega.nz/file/kfNCnb4B#MkVOJgpiCfT0c7Uc8e8ERI0ys8jyUz7hZhqFoglBHmE
        - https://mega.nz/file/UStmGRCA#VCuUAJVU0WTfkQAPUVgzSH_jlOgWKEpfHJJQccUcQqU
        - https://mega.nz/file/Eak1CIYQ#Ix9Uq9_bVqc-o6z6urRHgovZPT1c3HKj8DF4K7BxXWk
        - https://mega.nz/file/hDFRGSTB#l0cOlhcTlXcsE0By2wUJVM1xjThvpFZPo4B31FTe0S0
        - https://mega.nz/file/JD8kWL4Q#qf3g7tU6c6TMXk1F2PNWcrZ-FiqIYJmbwD6ztMZeFV0
        - https://mega.nz/file/NPthRR6Y#ZbiduFM9dPejf85h07JVvIaRSUnGhL8f3R0LsJ6Z858
        - https://mega.nz/file/IfNlBZIR#zA1HwGlyeU8kfHNTnyMNvZaAYAMxDegIFE0i36YJdJU
        - https://mega.nz/file/tec2RQhJ#yYZ06CKuso4MMv05z_yFYRjFM6siIP306bgR_wf6ISU
        - https://mega.nz/file/1b8SDApB#jwshDZnWEqoKaSr5Niqrw3DZQFDwJwJUpvdH3u1IDfw
        - https://mega.nz/file/MDM3SBbC#nVY-_C0-_Y2GWHFhLNL8xEGVzXr74kYWnu3URxhwNsY
        - https://mega.nz/file/FXlTXA6Z#OzGz2eD048JA3vBPI117Tunk7PWA89YL0Dda14SzzxY
        - https://mega.nz/file/sDs1WYKS#Tf_ezuaym9uFM2C_f5a8wMtyTbsXgm72OZEjxe_hHuw
        - https://mega.nz/file/ZeFlkIhK#morQvWc12BsVn_SqBEOrIvHH7kGIjh-83S2887NSah8
        - https://mega.nz/file/4LNGxbaZ#jrCXTlgfmQQAWOrVCf1oCF9YByDQU5E-taCULAsf4cs
        - https://mega.nz/file/IHFCjJZA#J1qjMnsYJ7iV-irTWmlqr-3rJPJnZbrU7p9MOuoQcYw
        - https://mega.nz/file/MakxzSKB#mnbhLZXDbVtt0C30NC3PZBQ3GEw-z0E900dVdPOhOxU
        - https://mega.nz/file/NW11kQBL#M0Wj3kd-yWp2ir7cnu5NUAVii6EHvNfeMazsf-fSh2w
        - https://mega.nz/file/ZHsFDILQ#yLVvyF3Fidi5plQmNIhpUfAPWANqc8xfh12yErxILJA
        - https://mega.nz/file/YDcV3LAZ#bYBhA5xWWiONJBkRxB6MOL_6bjYXaDlhQoOLmHgLyPc
        - https://mega.nz/file/lSMwxJgC#1uFK59RIJwlTyCfkTmBJ1oxd8QoBvVS3jKe8WOu51n0
        - https://mega.nz/file/kTsWFQQK#fiTD4GClj6l9ObliJ-d8Gpt7cVHui04oNaqPoxsTPPI
        - https://mega.nz/file/xeMHmKRC#Sfah92gsZPa_TVLKwqhQMOjTvGv80uPrgVuVFwBbd68
        - https://mega.nz/file/Yf13hAQb#1O_0z0QTuzIDWkznztc4aj9NBhdV2jf-MhAYMBy6qfI
        - https://mega.nz/file/oXVGyB5a#VtDnkIAg11VPjN3xXEws7ZsOOGsDgMosn_J2YIr6l5I
        - https://mega.nz/file/RbsVUYJI#Qh-PvKN69PsgU5wkQ_SS7yPWcFSJ-SiD9q62aKPX7hE
        - https://mega.nz/file/9WcVFBKS#F0OpnjMwIS1rq46hmpadmQeboL5Tb18M06jjcs-ybOY
        - https://mega.nz/file/xP10DK5a#QE4_5hSozqJQ3oGowUWqCXJQGVWBZ3pIGUSFlUb5CzQ
        - https://mega.nz/file/NHUTRJjL#zGYlKuAIIdbIh5ypVXAZInXCqGC5I31tQLouEf9ks1M
        - https://mega.nz/file/oalj0Y5b#A6p8fzJkyuHICE5wL1ow4sfAKV8jWCnARiRTRzyv7-8
        - https://mega.nz/file/QKsEHTxa#4_RQywBRi5IVKaBq46C6zTPlqzvDdrnIQLMC8fSIutA
        - https://mega.nz/file/5OEiVJrb#tNeNiEym9jRAgITGQHCp_n1Kv_NqcDr00iHgnADSQVo
        - https://mega.nz/file/8StAGSqK#51SO4mhob7d9bu5S-7ko6R8fgkjH4_xe2wimDvAUs1Q
        - https://mega.nz/file/IeFmFQ6T#CMakFt20H7IfwBiIGoDoOXZK5CL1zvmQPEnOZEfpgvA
        - https://mega.nz/file/MO8EgIyT#NSQFmfekq-qASsW4164Z7EPJCynDsDLL1ijNJVSUDPk
        - https://mega.nz/file/wKlw2QIS#k71fD4tzpQu3UUjCFrJmLM80IxHt4tge37vaN-wBNUY
        - https://mega.nz/file/hONVBBiL#2bMX57I8mo3YDL53V0hApbL8wtmgWxq8z-nH0ciL-WE
        - https://mega.nz/file/kS0FwYyK#dM5bIAoB7v3vXYL4qpbA6MaxwQKuYEjv4rLER8GDv0g
        - https://mega.nz/file/sG8V0QhI#aC2pZMOJQGnTvzDMR9-MApc1CvrhpsZinDDnsmjRIpM
        - https://mega.nz/file/5b8UAQLD#acGt5GjHPK9beUvGvmm6vmQgATvGQkh_L0_-If1cGfc
        - https://mega.nz/file/xDdxyIRY#EmU49grbZtIbyGlNscI-v-UNKkLWNFv7FOYGhw4s1MM
        - https://mega.nz/file/ZSNxmSpJ#5w4lSqLh3q46OaR2cdr13KVb9JvpIgl4VBmvyW10aHI
        - https://mega.nz/file/cft2WSLK#jTU4mdioU1hnfkZL0C3yK4BwEGJJaSkMhi5Mw6k5ttQ
        - https://mega.nz/file/lalTXJBb#UJkj5tDH8M3cjvQiapyOiY8Z2RHHWGZsIO08Ulv123w
        - https://mega.nz/file/cOcTjI5R#yZTy_5r_fZMXnLEU3EE7Se7dmBTamUaR2BHBKhjlqnk
        - https://mega.nz/file/dPtA2BgR#faA1dRqEVS13-2HD0eJqKv42TE-YVreGnsuISX3Qs-A
        - https://mega.nz/file/IP9j2I6C#I4aJVGTEp1yTOu_P72Jk3_LJbA-89_vhQNMJxSXHK5c
        - https://mega.nz/file/IWtUVRBB#LpY7lVAdQkG7F8g9sODZ_jJD-6nrZM7-z2jKdyjQgzA
        - https://mega.nz/file/wGEH0BqR#3Wm5TgZGVCLMS8ibDSi_VTy-8Z74dHxw3CznSft4AAA
        - https://mega.nz/file/yMVVyZbT#o2NOAZkn0OawpKVOE6XeBc17-AeoMH7bg-i0GZ34Nc8
        - https://mega.nz/file/ZfNG3BhT#BXbZLJnJJRPJr2OnMY2KVu0CsidsxMWzRZGxWainChk
        - https://mega.nz/file/8oNXiDCZ#S9t5NP9uUWqw2lFIZoGaU5x0sLf_gv4-ITT0aHCbhlQ
    runs-on: ubuntu-latest
    steps:
    - uses: actions/cache@v4
      id: cache
      with:
        path: megatools-1.11.1.20230212-linux-x86_64
        key: megatools-1.11.1.20230212-linux-x86_64
    - name: Mega
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        curl -OL https://megatools.megous.com/builds/builds/megatools-1.11.1.20230212-linux-x86_64.tar.gz
        tar xvf *.gz
    - name: Leech
      run: |
        mkdir leech
        megatools*/megatools dl --path leech/ ${{ matrix.url }}
        cd leech
        find . -size +1960M -exec split -b 1G --numeric-suffixes=1 {} {}.0 \;
        find . -size +1960M -exec rm {} \;
    - name: Upload
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: leech/*
        tag: latest
        overwrite: true
        file_glob: true
