name: leech

on:
  push:
    paths:
    - '.github/workflows/leech.yml'

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        url:
        - https://mega.nz/file/eUMzgT4Z#h-Y11i9VumQRFUQQbfduI0zlh0IdK0BRr37v-pv781Q
        - https://mega.nz/file/SQ1yBQjb#NpynuJ2sfg0cMVQ_blCXDvDVToE8c6ewiNvohBFcABQ
        - https://mega.nz/file/bF1V1JoZ#wT7WRZKXEWu4fOt0lFrfQMzRb6UAEgSKt7KvfG8Zov8
        - https://mega.nz/file/CVkWVBRB#rz6eLE_5ampe288YxKq_XCKYua-J3tXu92H5GzGFNOc
        - https://mega.nz/file/jM9D2SqS#wyVrC8aDNmQr_1cYuwiZiLjLCR_beVh1j03IzvPozNw
        - https://mega.nz/file/LAFy0Dxb#ZSu3EDGXo-wb7zaZl6kihx2aPEiHLdW62ByMty0xa3c
        - https://mega.nz/file/7IMSEJJK#7paQYLmtnxV9np0pbSTrrzEudUX93rPSOwcNe-YVzeM
        - https://mega.nz/file/aUVnDRTC#wRruKxiuR_Nkj0Bhzs19fkcsOaB6qVi5wHjsrXYBQn8
        - https://mega.nz/file/TJt10CyA#AYe1HIL7e8YB9bviCppQhzvv4AUyTuk7gM1V_7kvtFY
        - https://mega.nz/file/7Y03yRxa#E26Pp41JF8qMTXSLuF1WsjRH97HefDyIbvqTvQ_OubQ
        - https://mega.nz/file/jZEyVDjR#SFMzwzmdBJfjq7ZNENTinVUNRPJxR4krW71oXnCCyTY
        - https://mega.nz/file/mNNwQbqS#SFMzwzmdBJfjq7ZNENTinVUNRPJxR4krW71oXnCCyTY
        - https://mega.nz/file/jEsBCIqJ#p8UKn5sN9RElFsGXwsiaen2CPPPFKIqHITjs9V_8YWE
        - https://mega.nz/file/bB1XFCDY#1AdqPC1-mpOea3rC_u8N9ousgx905SCepgSNBMKBzPQ
        - https://mega.nz/file/CY9VUTYL#1AdqPC1-mpOea3rC_u8N9ousgx905SCepgSNBMKBzPQ
        - https://mega.nz/file/uZ8i0YZS#EQEVs1DcSpfd6og9qRr7WBN1kw1ieofnq59CP8YlF8g
        - https://mega.nz/file/7FtWWTgT#qVajwuWdS5CZYE0B9H023aCjE4AurTN8ZxQBVH1qE8I
        - https://mega.nz/file/7IlASDYQ#eW__4YuCJnI5LS0akOSGALedcPg0pekarNnGxAJEqdk
        - https://mega.nz/file/HIMwgCwa#d3Syv-2NIe0OBF7HP26XBYGoo_BoYvQhZAN7gZvx8pw
        - https://mega.nz/file/SBEwQCyC#gvoJJk8zelqMxfAValvY4cw4KF08Qmguga0yU4zQjV8
        - https://mega.nz/file/vRtXlKZR#puABKm4Sr7khoBxqTBhpjU7e7fN_kU3y3Zf5eJmQ4Nc
        - https://mega.nz/file/bF0jWIZK#ewN14Lr99urfbvR3qC42kFHCLLwypBfoGZUjnL-qNj8
        - https://mega.nz/file/fc1TmJLS#eSb97YLP1RwOqlhodBMXnARQGmcF_FG3ML4w-jHDh34
        - https://mega.nz/file/jJclWIxL#tyk1TyGXjGvb24gCF6OH86Q7Eq9jBS1IV9rT_tXkxyQ
        - https://mega.nz/file/2FNn0AJY#ssBVU80tEQE8Jwx-gzIV4NbNzQt9ZyUZH4xK721_9Rw
        - https://mega.nz/file/6VcDxYrS#nMP6kazedXZ5OdMBS1ei4fktu1FXEerCGr4og76MljM
        - https://mega.nz/file/TElHFIbT#Cb96GzyGTYkwOImGIJJP_dF_rKR2Y-GU5aY7CE4Sqoc
        - https://mega.nz/file/vJMTHRqS#NCofRlwdtblkAqOzJpYw8c_30GprdUfRTMkO94kdy60
        - https://mega.nz/file/iJM02LzL#jFZPYavJ44sX-kItHBhjOg55ELlVia27oTBepMF-_Gc
        - https://mega.nz/file/TdklFLxJ#Y-Sm0podamlXP1V48XF0zo08a02uQQUWbfRiYIplsWo
        - https://mega.nz/file/uc0wyLzZ#U9_kt6-_9CfxK5ltFkofMhqm-89fPAUzbkW4AadeSxo
        - https://mega.nz/file/WVEiEQZC#sxQc2YKJTwkkGT8UXawdDBIk9be9D9xqXyZXITRYZOk
        - https://mega.nz/file/PQ0SUARS#XAN7wfqttzRo-lv0Q7-ExAZ307Y_IwsoRubXtmQrJO8
        - https://mega.nz/file/XINW2AoT#1hKHQjIMOZ7oDGvFn9eO8TZlGQ2Y8kstDqoX8VHqq8k
        - https://mega.nz/file/2R9HCSjC#g84BrpWgRXMnpyZH4FD6cd_FUSpIVhGPkus4c9DVSk4
        - https://mega.nz/file/3cUzhT7C#4zx46HWvPKCIY-UMdQkFI0CFwc37KzcDHHk09ZVjMzA
        - https://mega.nz/file/bFs21LgL#y92DKvrNM06G-aXHxztSpcBd7i8k8-miOD3Jjx7McBY
        - https://mega.nz/file/GB8VRSZQ#bh9OYLY7jPTeZBLbUR8A_UUNyeOBxEO5kYo4lrI8MZc
        - https://mega.nz/file/GBFiwbQY#Aj91gp2qTbhfbY-SJ4sxijdXh4MjIY8XdLfeJdXaEN8
        - https://mega.nz/file/PN9SFYQJ#Cw4BEbxi6sIXQwUmpYratzUxqfg-gEZP5kjdqkiUNkQ
        - https://mega.nz/file/Dd0ThTTS#Scs-6L-LUnIkdX8HpBahuyr4SWvbUzxNet0M_XqngtE
        - https://mega.nz/file/uBFkjZgR#Omg4pEiNiEpiolFCJPvN5U6DIq2i4ZYgtkdQdmSuWe0
        - https://mega.nz/file/jZ0gEYxI#NKi2EFZ8k57l9dhKHHX_4_hXc-8ARjGd4Yc5j0OY6ks
        - https://mega.nz/file/uEMSmLpC#MR2XztbcLXTLyao7VbVpombAS1HA_GSIjkK9eEl3GQw
        - https://mega.nz/file/KRN2HCRA#MHozqOAkUl4Ficdjg8S38gK2eN6aNlAeDAMr0unXZ8U
        - https://mega.nz/file/SUc1XCiL#CjXeVT2ky1K69q9vc-7xslE2XQakw31zXf32yiXRKzI
        - https://mega.nz/file/vctWxYRY#OHHeSqdX4AXSyzjvbcjtb2d5C5ycvAeSBvUMIMRUdaQ
        - https://mega.nz/file/TdUElTLB#iq1jix8UvPXLEFBpdn_hqdwY08JVIGbMoKlfi6iSuRY
        - https://mega.nz/file/XI9FVY7A#81d4gIpOkYkzFH505wQtiTUN3M9tDuOlHRZ8q9nEIrA
        - https://mega.nz/file/PEVEyLSQ#GH-lFwsy5htjiIqw8HawQ5BCL-0VA_yUPpkI_CaKk54
        - https://mega.nz/file/rY8RlY7A#abf3UVKGe6BUQRJADkmpyPhTsMH-sojGmEumWdh_Vr4
        - https://mega.nz/file/eclmEAiA#-RNPIv9m_UZhKG3IKegtNrP1B0dF1Drvc08ZPihwoSs
        - https://mega.nz/file/fJEUyChJ#HcfD9wJl6GPnwiJr5UN_cDa3sesRjExqrmsSeOJWj_o
        - https://mega.nz/file/KUkyBIhQ#N0CrZFWBJ8fkNUbX8Iqti2AWcu7IeNrslYMrjvBZQUg
        - https://mega.nz/file/SFknTI4I#jes5pLSHU6qIyqfD2LOrmrV_s1yR6bjLip9FD68hA8I
        - https://mega.nz/file/qdUQzAyK#ltPhUGU_c86ySzAGypl_o6uHdqTWD6xt_uc5LwERbM0
        - https://mega.nz/file/uEtlmBoT#xUsZvPfEiDUZTMZZyTZfxGIFg7lXTj2ShJ7Omlmu060
        - https://mega.nz/file/LItSWASD#1yhje9Sj-WcD085ok7icFcGCOYMz_yG28yYBYCXDnCU
        - https://mega.nz/file/zVl0RY5Q#7L_2fvThrfkA_skZm0Itr04fPv2wJgnBDAouDqOyFoE
        - https://mega.nz/file/7UkymCAY#0X9HX1ofE52PsRJ7d6_BtL2p34WWPt7SGqZIpSHU6vU
        - https://mega.nz/file/TFECjSoS#UrkVmG_ROsDcH10Bi5HjwsqaEU16jn9YtbwJmNxMbAc
        - https://mega.nz/file/iNEmgZDQ#LTK6lX1fwB6Cm-RiaUPqafhIKG4kl5s6p-xlOc3hEsA
        - https://mega.nz/file/jA1G1KaK#be-eSAG2y49MZtKF8m5hbfPBxe2ImTtYGPyDlN5AP8I
        - https://mega.nz/file/iIFiURJT#W2FC8Xln4UAQ-CoqQ1D8Zgz15Uw8AaoDhJtTSc1VYpw
        - https://mega.nz/file/ndECDQSL#88CIT9WHhL10r3qAcuFJaeHkBGDYS9nXzUCXsFsza2s
        - https://mega.nz/file/mBlmgTKK#ipcLhaQVvC9qsdwbx-T3rnxKMBMcmPgktlfeprxRHZ8
        - https://mega.nz/file/rc8VwIwZ#BdFmFEbVvpbBSpXwKzXPrMiwDH5z0r_OEhzvCQ_QY94
        - https://mega.nz/file/TNlSTYLB#kk1S0Vj1RB_gb_A-_hdV08ffSpjuOme5s7tB4VsjbuY
        - https://mega.nz/file/XFEi2TLA#6p0eqyPnixVp32k-ZV__STuj8AYX45kWuULg-fN61YI
        - https://mega.nz/file/SJtHGQLQ#eLhEZuHoWUYRSkvkHRdXt0l5xr252CpU8AEhs4Z8oGk
        - https://mega.nz/file/rZl3kQSa#4EGoiP2VGhQjAu1zL3oyhsC5cMhQC2I_cMCUXDgRw4E
        - https://mega.nz/file/qNNwjSAC#u2ist-ZpwLh1kSw0Lf_WZ8HK9T3pgan2Y2PbCPzTuqQ
        - https://mega.nz/file/nYUUERgD#BRjcCRdKzD6ZPr4amHJxUpzE8BpRJi0ALHOWQo9Uxcw
        - https://mega.nz/file/aJ0TDQ5I#TAHlT7IQAHmYaktVyMuwkxmwlERmHuyKQNf_7kqwj04
        - https://mega.nz/file/KYVUXCwR#NQwLRrRmI4zLc-V5xo0H247Lvy5ELl6J_bp8tiNOuyU
        - https://mega.nz/file/eRVg2STJ#RRCbr6L0FxhshFY-8CwkD4B8voyZhsjCq9q6fVnlsNQ
        - https://mega.nz/file/LJ1DXaLT#srwIxaFUCYneLtJIVB0oI2LlkksFNBO135ZQj5USD4s
        - https://mega.nz/file/iRVjCAiI#CahTR4kptXk01SU6i88sughbTuFQo9Qoq7Hh2i3JnUg
        - https://mega.nz/file/ScV3GQoT#m7lTX_R_aJAnf455aUlm65hV-ZORbuAoO8o5QOXbh1w
        - https://mega.nz/file/iQMhFYJZ#dTQnSb600IB3dcIuEl2-9GC8vLAt-N7NkXBET66aUzw
        - https://mega.nz/file/vIVAXJSB#vEz89k9qgLl-zaqfjumwozdvbCM2fANxq3tjJI30NWI
        - https://mega.nz/file/fYsXRbiI#TyAfAsC2B80u4wYuDUSiIsyY8QFU-GQKpoJvJI4yuSY
        - https://mega.nz/file/ecVxRQoB#9dN3Uz3aMHlTt1nmlOQ4Gl4vmHmYRtYE6Vw1RUjmCVI
        - https://mega.nz/file/WMUG0ZSD#ZVr-fMRGeKS7WQu20qGMNUftq5Cj-cP03v9tz_Mani8
        - https://mega.nz/file/Hd0nHCjS#xg47a2ZOh0ximtdBXTVGI7lx5f679dHHNXJG_f399sY
        - https://mega.nz/file/KcMkSJiY#1KFTePE_PCizMRlP7uTsvqvp-NC6-2S97I_7-GY53L8
        - https://mega.nz/file/TJtgyI4R#uW2rR7-Z-2L2Jt8uppLZVjQFHD7HQVo4pdy3wre0NI8
        - https://mega.nz/file/bEc3lZiS#g9ED0PQi1QYIkyguRPCE9i8aqvJhcPU6sSq9SO7DMMk
        - https://mega.nz/file/bMEwlDQa#3VCLPoNQSzDggEjU02JFaDsMdNhTuElc6iTAbgxxulg
        - https://mega.nz/file/yc02kLKB#9iJQTlUiIYpvxXFZS39cOLCC0j2_bB7y2OwC7L4JmdY
    runs-on: ubuntu-latest
    steps:
    - uses: actions/cache@v3
      id: cache
      with:
        path: megatools-1.11.1.20230212-linux-x86_64
        key: megatools-1.11.1.20230212-linux-x86_64
    - name: Mega
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        curl -OL https://megatools.megous.com/builds/builds/megatools-1.11.1.20230212-linux-x86_64.tar.gz
        tar xvf *.gz
    - name: Leech
      run: |
        mkdir leech
        megatools*/megatools dl --path leech/ ${{ matrix.url }}
        cd leech
        find . -size +2G -exec split -b 1G --numeric-suffixes=1 {} {}.0 \;
        find . -size +2G -exec rm {} \;
    - name: Upload
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: leech/*
        tag: latest
        overwrite: true
        file_glob: true
