name: leech

on:
  push:
    paths:
    - '.github/workflows/leech.yml'

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        url:
        - https://mega.nz/file/Jq8yHA7b#wez42i4GZKxLcE_eEYhv-EFbFclb9e6QOMBjLDbB-L0
        - https://mega.nz/file/N6tmQazK#5uRZ4hJIeF6b2PiWVvj79MTeqt90hFXJk-karko53Bk
        - https://mega.nz/file/gvFXGQza#HcQmaxhrTZn2bYMcDojPMZLsxXxLBAzu4To801RM7kM
        - https://mega.nz/file/Mr8Q3RQQ#M3U-2ldQchCuJYi2gbB5MloZfD-hb65VnEGzgQ71x3s
        - https://mega.nz/file/FvlygRzK#2S6Okdbe006605yvSPwhrmi9E3_r35ToyXYPtiRGHvA
        - https://mega.nz/file/l6VilSKA#YsWEpqHhim8KrLS7pJg1z0aN475Y5tMBMX9nDYiPRBU
        - https://mega.nz/file/JmMimYSS#Zhzb1cPbIcrm0geX9iDpLLWcx2leuZS-sIAApv6PpjY
        - https://mega.nz/file/p7cSRZ4A#rfJSWJoGb6c5zatIV916kwLt_pC3dtoOp5Pvw3saX38
        - https://mega.nz/file/46NlXDJC#nQGfdQAFRA6lhQAfu-45oDiWDdXSLd-O-xZ_5k2QE_k
        - https://mega.nz/file/IDl1CQxb#Shk9hn5DPCDplCIsCNjDDCavNl1F25kGIWzoD8LIoJ8
        - https://mega.nz/file/AHERwCJa#fmljNAw7kJwrQR3LeNBb3YVnpi9bkvlbesGCiswol4o
        - https://mega.nz/file/lrdgHJBR#ZzypUA1wHKIOUasDcjAVbHCnarHG8aifWjVKhjawiP0
        - https://mega.nz/file/5mE3gLDS#qGplnXJu_o8XmVj0m-f7WW7YNVmYw2veQ5zYWlSVXvU
        - https://mega.nz/file/Iul1jT5T#RLa8gF8Qk7Iyax7SWBASsF1tQT-di5K0HXsE2kTKvOg
        - https://mega.nz/file/8isWTJbT#6JwgQtw3zHCUqwGo6hJrl52cbtEyPBOKWZZSLlyuZLo
        - https://mega.nz/file/s7dACZYD#_1q192po2C7e5mmwLFDhFRw6Xz3KLus5ZnIVlSR2b0U
        - https://mega.nz/file/UqtBFZLB#UL0E8Fx5v67-tyPc1eR5AuF8TTlMO3qaOT08OU9ih0w
        - https://mega.nz/file/Zr8jlTxQ#-jbFxUm4c6EVfInDjJT0NAaBlf0DVfNpK_zVy_CM6Dk
        - https://mega.nz/file/UXsDRKCZ#3recwaqxQCA5XhqceBblxaOLurNPgyY4YRGfhbbTWrg
        - https://mega.nz/file/RnU3HT4L#Lmaq3eQdsJ0B8179zOdT9eZFbEfQ9tk4Zx5qhttCyhs
        - https://mega.nz/file/wjUnVRLB#HvHptUh56Va09sk6kZUVkVTYESnPAGJO4-6odHlqi7M
        - https://mega.nz/file/wm0BUaDK#kHB-kVq3ckTnHY4osrmt2nLUVCyhZaa74KYhYZa7hyY
        - https://mega.nz/file/BzNFnZ5a#QcRPfWxVJ3BwW3sI8ddZYTHYKDLP8P8I4vVpWab3jTg
        - https://mega.nz/file/MzMVQQLA#0LsVZqe0jBm7EvtGyGeSswf90qnbMIuN2OWof4WvoRs
        - https://mega.nz/file/8qsFEIoB#LUQ9joUs79ptEBm2-N7Zm3UV663xpaeKKIrxas3hEbE
        - https://mega.nz/file/ci1yiL4T#HI-A9FrlrGt2vGH_eY8JDZaJ9yAEA1T45zrdIRKTDG8
        - https://mega.nz/file/Z2dXTRKS#xeuHDaJvv0xqlxENCUNzJTUhYmBLolS8_X8CgKktHro
        - https://mega.nz/file/hOF2laxR#Th1fyfv2qKsLo6yuH6aQ1moYxEOdlHPiUWeKr2qe2oE
        - https://mega.nz/file/4C1SiRbR#jww8uNwjlFW6kioxjD_mL1LmnmTLu_xyELwL4hkrgSk
        - https://mega.nz/file/VTNVzKaQ#Ly30eNzi3O8GJPm99yAI3hiAvM3eMVT6J0FNDHUWbpc
        - https://mega.nz/file/of8nwYoR#6aLCbT23vmCuE6q0T1MHWeQg947z6vMY12BeTKv0TMA
        - https://mega.nz/file/8asA2QDS#7G9jR1tA8Tdf7R6SmqCNLPZ1rIWNf29hgVfr030lH68
        - https://mega.nz/file/5W0WgahY#cwkK9e-bwn3lmw1RNrpqhbS6dkSgU6yMLCg2aVERaBE
        - https://mega.nz/file/NL92DQTB#cT5V2Yv8wIxHebMSOjbk9IpytXo45lUIwqXA9_Sl1ns
        - https://mega.nz/file/lD1XHB6Q#dCKuZwDF20MDOOdEEu1g7t-6jZDJa_UsdHTG6MqGkRw
        - https://mega.nz/file/gXdjkZzJ#G9v69IJTaCTKo9VMocIvI9XlESXKcmqUtQ2OP9Y56no
        - https://mega.nz/file/JDtk3BZB#iYzHYUoCd-6JSTmXqqbuFg4PomNBNcQO_yfXVe_1gsI
        - https://mega.nz/file/xKEHRaKK#aeDoYHTsDAMPRTsHKzGSi38THmy7xibufy2arXplG28
        - https://mega.nz/file/YaFg3ADQ#2b6fwltxVqv4g2jo3qBMFtSpKoOGE-Lpl5vANVsMkCM
        - https://mega.nz/file/MeNTBAzI#ZbPBseDFx6YYThv6u4YBVztMxarVIOiisIGfDTKA21o
        - https://mega.nz/file/RaE0hAaL#wficRCd8UwnVL6FKan-HMSYapXK8ixVtVMjZTfuxrG0
        - https://mega.nz/file/of93HYbC#YYv_5ioxel7XSJ1-8A_Wr1smbRJKuex0PxRoWrKL89o
        - https://mega.nz/file/IedQRQpa#fDmk-5LOd-BkwhP8BoVD13DoFIMoRZ5_LAaeVqJVXy8
        - https://mega.nz/file/oXd1DQob#Yus5nJ6WUQknd9ojMk1DH2hdzZFuJROe_mj_PFKX6hI
        - https://mega.nz/file/hGEWxDzD#mmer_w4OeAyDeGqCkMfF0D03GAIYx8tqkhhRiJeh51s
        - https://mega.nz/file/NfMDCLqb#LLgm_LcJ0rn69827jRW3q2yxLzix44oDHlIHqdglO9Q
        - https://mega.nz/file/1GFHGZJK#AJiPdLwxipCCvNd6kIvXEtdnYiw0GyQurj9vsXpzF3s
        - https://mega.nz/file/AWVgSLBY#YfCgptQyMzqw4O0TRyFCPyfPyXz5JlyVX3uEAGvt32c
        - https://mega.nz/file/ILF0HKTI#rK1c2-uHLBCZkDHkE_1tYo36T6wOQ22z0zVY2x_Z7fI
        - https://mega.nz/file/kCEjAJqB#pIHaqMD-zW5mKV7CopUGWHrmfad0s7y0lMwewzscBis
        - https://mega.nz/file/0XkChSTZ#S0TforJteKKEcW4hCPa-s3DrJcoCLLnkfFdBsH4y0RM
        - https://mega.nz/file/8OsSCAzK#DuEjvQm5fL4wuvqCEpE9sQYsVKsxmOu2I3UBjfm8de8
        - https://mega.nz/file/QPExnIwK#7nr-eezJTIWYJxeYGtvGH-bLm2onozbzqDHMlNqADfg
        - https://mega.nz/file/RPEVQJDb#UBtuUPe-BcM7THPRFafkpr-xceoryD_tFWiLP8iiP3o
        - https://mega.nz/file/FKk3mKQB#A6oPPOf2YERSmUdQDizoyfJFhm-5Kgx9UdNVZKXc-N8
        - https://mega.nz/file/VbsCFB6A#ldfmpJuwn6UX6NwKYBQfIZaoxOyD14oKHbDZEqivAt4
        - https://mega.nz/file/kf9xySAA#vJzQhrNBXxLArp5afKCbkEg9Uj4P01co76wWa1PG46s
        - https://mega.nz/file/5WFwTSJA#WNnWfHQMsn3Mot0eWaNhTFIfoQWpKzADJhv_p_eIXG0
        - https://mega.nz/file/ETdzwZSL#OYWk8uRZPHxme6mIcgxNfa3xuu2REw1Zu1ev3xwawk4
        - https://mega.nz/file/lakShTDT#x88f6lFGMhPgyPMhvjZPQQT507KYvTxphsDoFCbn4_0
        - https://mega.nz/file/sbkhlSKI#24HIBCxkpcSoxsCJF8oT0ylkM0-3uJOrZj21xKwI4RQ
        - https://mega.nz/file/wSlniDxK#l0aGIEiYGGRxt0T66MxR_-j_JvcC25f4U2c9KgFlU3k
        - https://mega.nz/file/we11QDwI#bO6XwOW1KQLEgNnfpoPXleQ851R40qi8wnnc3kKuThs
        - https://mega.nz/file/IjMjjZLL#-hqJrjsmmjDkN_DFiKHSTdynus4Glaiuom46J9u_V6A
        - https://mega.nz/file/ZqEmCQrI#sLK0aiXNdC-Ijwdu_9wkrkljxAvb1Ibc6tZ6nY7UrjU
        - https://mega.nz/file/ovkiXS7I#nHduhQqAIjykaO89gE9B3E6dzjB7ITjhYz05zwDh3ks
        - https://mega.nz/file/oy12TSQS#TQTrx2ZbLJM-itHYSgJco4kAtEyUNSLqlntEZUMaVfI
        - https://mega.nz/file/5vNXxCwY#sApzRx1RqT0iarsKp376KAj9ECw0GuNiPnS2WvDkv5A
        - https://mega.nz/file/xmdghSgB#3z05qylFggNFZ079BZi-_Fo3gTL94zMBzGd4vusx5OQ
        - https://mega.nz/file/4j0UjJRK#0k-sikWyq8qVVpxxFxmgMv3-ekr0ujdPrqn1EA_-ZYc
        - https://mega.nz/file/4udUCRQI#oKEaF6rhks-VqLAdtpxTgXPiVpJ8bNZfkvW7IDELuK0
        - https://mega.nz/file/w71mRA4S#EnIdWTm_xlEL7ic-sGPIOVtH-RYOxT0exwEJ7-SGobw
        - https://mega.nz/file/tq1HiDDL#E7466B0Oi2HwaxZXc07BhE3BdG4UxO-35F1dlhNG8Ac
        - https://mega.nz/file/crcjHYDR#I885RTnf_93ZMh43I-Yabj7cN7WUBfXdLtKggRz62RA
        - https://mega.nz/file/tyMAHAoB#-FdAy2dxH7cU-bzqLDcR3HWaYWDRenEqE1h_Rt8e4AE
        - https://mega.nz/file/12lnCYRC#feW9eqU36xboBFQRtJy5rf24Z2balDv7LEWIYOaz4T0
        - https://mega.nz/file/Ri0GXCoI#1OGCyuQbp9hXvK7beOh42PnxiQKlOQQ05wj_imbdnTE
        - https://mega.nz/file/dnchQKwZ#0DqYwyntdjCqe6du5HkUDIZjOaxuGHJ0_qZP-Q3FsZY
        - https://mega.nz/file/YqcwRJpC#_V7c-9gAurcl3zuuj3jK6EA4dvgefLJyMITgDX3f0k0
        - https://mega.nz/file/Fr8WkaRS#xadFlL1IBlNEk0852jXSufr5si1z6XGkkZZYPWSKzrc
        - https://mega.nz/file/A6s0HRaC#vTK6Hsyy88Nrk-z5Gx_HPejOsg-GVQ178v61Vyf5dM8
        - https://mega.nz/file/grtFkYRY#dLbMitXX2nCCo2HIz5EsNb7eoYZiR4hy_rDyTwCc_-8
        - https://mega.nz/file/4r9TFT5J#QWZyvY7tpIEsZEx8Plti82dCLAQYUfNpXaPv0onRsxE
        - https://mega.nz/file/9ncUiYoa#EGp6F8yG9kXk9YbBNihpkmElTndOgR-xoRs1Cj2RPs0
        - https://mega.nz/file/E6cxUAwI#ykIbDhU9sWlRYO_w7wOyRDgpQ0qik4-E5gh-W9qMc4Y
        - https://mega.nz/file/hq0whT7R#J1e7oefCXKHC3DgC5bH_ep9SW70c8SvYeFNsM0Opmes
        - https://mega.nz/file/g6NUiaoC#fPqJSauEW6cCjUVqs8w-7yRwiwJMMxAFO7DfM7NzPHc
        - https://mega.nz/file/Mvsiyaza#OWsck6lUrzThgjDqbsXl3FXfV-nkaN1Ukdb6to7avYI
        - https://mega.nz/file/lr0GyBhK#Uu0nOiTi8Tm04ZaYuqOwnIQ21E7Ajo5ZbzzG3SijMuQ
        - https://mega.nz/file/Q6U02JrT#rpvuxV-gYe4v2GIMv0eloz1OBL9Dng2t8k4gABA-Erg
        - https://mega.nz/file/kzV2ACiK#W7Q-EhGrRa3Vp46EyCJ65yIk2v-H3BYu_BxehRsAE8A
        - https://mega.nz/file/V3NlFSzS#iM_2Z7Kv1vPHlAfYCda1AuNBn1XPVV7wzY2ddeOBJ0Y
        - https://mega.nz/file/Um1XhJSb#KNdxTVSXLlK-5M0KlAd2EzFHHdrtrXu65WmQVQKxzqg
        - https://mega.nz/file/Z2MmWBrJ#natRTuWrrnYfHBr4QFIqGaFa58JN7J7K7FdXy90izuk
        - https://mega.nz/file/hvUDHRKZ#E602HZ5-Es1D9auIFnSRe37z5cc2smvvmI8ng_Sh5S0
    runs-on: ubuntu-latest
    steps:
    - uses: actions/cache@v4
      id: cache
      with:
        path: megatools-1.11.1.20230212-linux-x86_64
        key: megatools-1.11.1.20230212-linux-x86_64
    - name: Mega
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        curl -OL https://megatools.megous.com/builds/builds/megatools-1.11.1.20230212-linux-x86_64.tar.gz
        tar xvf *.gz
    - name: Leech
      run: |
        mkdir leech
        megatools*/megatools dl --path leech/ ${{ matrix.url }}
        cd leech
        find . -size +1960M -exec split -b 1G --numeric-suffixes=1 {} {}.0 \;
        find . -size +1960M -exec rm {} \;
    - name: Upload
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: leech/*
        tag: latest
        overwrite: true
        file_glob: true
