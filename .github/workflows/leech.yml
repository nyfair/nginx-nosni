name: leech

on:
  push:
    paths:
    - '.github/workflows/leech.yml'

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        url:
        - https://mega.nz/file/1WVQDa5K#yBLQxeQTyPC6CPG5Kqo8cLvIpJF-XWtWB_N8gg8cJco
        - https://mega.nz/file/tbUHgIiT#UOxF9Xs7WRT_uB9s7IfwFPFEECnT6IubUPRNxn4K1c4
        - https://mega.nz/file/xP8UhJTI#xjUj025A4tAI2WwqZ_KANvojFtS2sljtD24CGWcAiGQ
        - https://mega.nz/file/4fkSlD5D#eWhdcvy_l6EglCcwQtO2__jf69FiG8l8Kj1KHZddfAU
        - https://mega.nz/file/wedgHR6T#lPTRYktbOmQlpSOzZ8-pQ4EaF6X_vBRYVFB9LrC_UpE
        - https://mega.nz/file/AftBAKxB#KJYeid7STFni8QgFI3bDwi7pdfXVu5UK4cwYurSxOuw
        - https://mega.nz/file/If8kGArR#jwFwPuvtOTUkj2LaUDejaWyGE_yZnM-CZrKGNo1qvYQ
        - https://mega.nz/file/xONDRCoJ#DphdHNYD8gvUviAFcf-pa7K3PvqgxwMUGNLHPwO2nsY
        - https://mega.nz/file/4ec13Rxb#8u68e9diIMlCftuXaKl39apsBJrTag5sYwuA0I53OaA
        - https://mega.nz/file/AedxUSYB#l9ZriQ-OHkbMljfA6nJx0QGJ25zv35i4Kcs0U8OnqDQ
        - https://mega.nz/file/ZX10BCQK#puz8R17E9UmFSPZ55xmnjlRrWR8JlvN5NhLPGUKCnAA
        - https://mega.nz/file/0X02QRxY#WglGD2dPbnHpy2_V6QvGSL03QLHGdd8ynUUi6KMWba4
        - https://mega.nz/file/cPsVgZBI#kjb5omVwYFrqXpim7k-d_8tbxRVatHrcer7Gn_GQyDQ
        - https://mega.nz/file/YO0HnIwa#nbDEuuSw3Mme2L5-Hh9NRcFNATHTqZKp5GhkAC3QVtA
        - https://mega.nz/file/9DUW1AxD#Po4rgUVOTt1ACmOm5QqvgFiEg1QLzwATssgfWF6-Kyg
        - https://mega.nz/file/RKcFSS5Q#JBWDP7dFyE1zLJV4p4YI4w6L9myiW_X-uTA8LNq-mRA
        - https://mega.nz/file/kSUBELJS#415V1N4HG_7453k32tIaLRF4x_kH6ld93MEb4tjy_M4
        - https://mega.nz/file/RGFFULDS#9sqKv291c0gDRJ6mIr18MXEu3hiKD4cMt9uWpUJ--1E
        - https://mega.nz/file/QDVhiDYD#qaHCTRFKWhRPIhMjNkFWmkotpLiQS4Nhqcw6k_aoTNY
        - https://mega.nz/file/wOEEhZja#2Lk9RdMBgvCALR-7bxG1WDzyIquDrpDAhCK9BkSAX0E
        - https://mega.nz/file/ZKl1kITL#y3YjnHaKK6avSA4mm9wdWZjIzad-jZg93fiXQk0E2Jg
        - https://mega.nz/file/EKd2zLJA#xfF-jorsvK1FdCnf5Kv38Dg1Gok0FEIcaD3BTmWuwvo
        - https://mega.nz/file/gOtBHKyL#Y8nKrCRWPzNechUs6xIFCm5R7_PLgWRtAAim7k4KpVc
        - https://mega.nz/file/hbMkGIjL#4ivpPjCnElFvxKERJKicTq-lQrckN07GPHX1bncSFVc
        - https://mega.nz/file/Na1UyQgL#irsSvNbvkmuFhxt68vWkZIoj4KvlstHNucnIE-R_T3A
        - https://mega.nz/file/NSkVwb5S#udH07qhMybNUChnk0I_dU_QW3gGEtxHDt0k0Sr5W0Io
        - https://mega.nz/file/IHcCyLSI#E6wFShh0OWwCQT1OkXq7E_zvblsWBYMyUSNozno7PZs
        - https://mega.nz/file/IOcgCRQb#HlBzMj02o9ziKn6ukvS7rdtTMxM6H3SbLtKTkEexrP4
        - https://mega.nz/file/lH1GGAKJ#A28sc0LkArD0-pzQKexs0Iy5n7zkX6DYWr92Fu5j5FA
        - https://mega.nz/file/UStGgZTb#rBRTonxYGaGlFfH0iKErobIKjYGN3naA4M1dFh-p1_4
        - https://mega.nz/file/ZaNHVTwT#T7MCUU7UuwdNfP6zSl_ucUGDAaArrrBB0XSWICA-b_A
        - https://mega.nz/file/tKFFwaqJ#qUzgiSs67_zehnl4hwIy5gMQGonm8dCkgWYFYzcrf2I
        - https://mega.nz/file/UGNxAAJb#dBPMGJFMoxYTl08V6TKR6SWNbVwFCdz5KGw62KbsK4w
        - https://mega.nz/file/hL1DCJYK#wsoLHV3ohuEITH6z0sKzsdbPBAb8Lnhvn0dAvOx8lxY
        - https://mega.nz/file/Va80RIKD#SJ2G0fMXJcug9Y8sY6daFzQ8fQM8S78APQZn8Qgp8uE
        - https://mega.nz/file/FfkXUKoA#AbasXA0ChrUMp6zqiaf9Cd4-hgVLDTeny3R6GHmLkj8
        - https://mega.nz/file/wLEAhZaT#qZokEN8TnAxJqRkoPmOK52Ik7d5dGuPtuxxSbubxz-8
        - https://mega.nz/file/4PMyBbza#HG9OH7z6aIuFBYl8frUo27e4g_cxT3LXGoBjXUVQOls
        - https://mega.nz/file/ZDlwQYaY#5ht09G77rhMEvKidcBexEywVgqcQug53he6Dx8T3xqM
        - https://mega.nz/file/RWMGDSZJ#TRV5QzKQQ_mjp9lWg1DOy3CPwxRVqk0iFTv37qB0UiM
        - https://mega.nz/file/xHtXTYyZ#rB8zEtPt7vYOHQ0M2OoEOCvSINndESnXB2faiJZ1jVo
        - https://mega.nz/file/kGdgXR5Y#b98xDKH5McmIzp-d3GQ1771XCEtn4YQsEZ3mpFhtdsI
        - https://mega.nz/file/oLFCgLhI#gNfqmL3BaedLiB1xEpIywY4nlthnIwFbYfUfE8PtWtk
        - https://mega.nz/file/Re9iGRRC#xbllrSrV1kAMVNhQy2-Sk0pyZf1qAxCZSH6JbUzXPnQ
        - https://mega.nz/file/5fUmTBiK#OCzskZVLtL_-9oKCl1noRcCMlvGUs63mkEg8D6ycm18
        - https://mega.nz/file/hb9EWBDA#TPD-pRmTHaHQo7Id-uWFBUxlqi0ONnWaDn570A3mv_o
        - https://mega.nz/file/FCE0nJBL#xENI-P-dHadjKo8uMhhCKKJGQMnCPpMQ3alBczbrJ5c
        - https://mega.nz/file/cOVmXbJI#Yfrw0TRjYuVPGCmzaLeimspn26h0JqIRHVVgjXOwc-U
        - https://mega.nz/file/Ue9XFDrD#BQ9gsXRnvIKYRgwtuU65Dzl7P3MayKQnVLDmhfIykwk
        - https://mega.nz/file/4GMwQLhR#SVyVaNKmyfH1-TG5WleNguv1rXNLaJxRDCy5CVGAklQ
        - https://mega.nz/file/tDkhSTjR#HJ-Dalb0r9jFo_rEoSmXcVGSCAsUfzMpF_kV6jiNHkw
        - https://mega.nz/file/YaNkFTBb#4LIRpu2tl3JMDcKIKmMCxgQnGUNfVqcJwjqe5pWfDpw
        - https://mega.nz/file/tDcgmBYL#vMJOe631jR1PwQ8GZ5Bomr3p1J22dH9ta-eqvYP3zOI
        - https://mega.nz/file/pTEy0B7J#AmWtZ5220ul1pPkoT1qsJZrCg5W7ru9cWXC_6JOqF0Y
        - https://mega.nz/file/UCNRnR6J#7OiwA2j4Ruw4abuF2B5FOeBtR2wtQlNQX9LjK_GjIUI
        - https://mega.nz/file/tLlgQYZQ#BqAhwiSMBCEjUMjoyNGlrj_9pxV058f1vGMZVg8Defc
        - https://mega.nz/file/VvsxnZ4I#Se9dS0PqO-6HaI4aIKxEwgWwg8CHJswObGB9yU9a1_s
        - https://mega.nz/file/lbElWaSQ#Ua02vDWOjf06LrSUfbqD9UB62X5JY8nIBfXBaGLPLx8
        - https://mega.nz/file/VCtSjaQT#rKL6lcHBNR8NYKIlIRbEmihdpaTpcjsn402xYHhMZws
        - https://mega.nz/file/YXEFDQ7B#FuPg6cgpKZjHR_VK5AIziS9lyJVCk6qg-aOE0MaLyb4
        - https://mega.nz/file/NW0R0I6C#fTv8ijHM84Punoo8k6gzCZPxoSX64Ab5uiIc8ooh3Ns
        - https://mega.nz/file/tWVHCAaI#_ltI6oAo6Kn4KPbGB1WRP2QwB4XAjsNlUt6Uhro7IzE
        - https://mega.nz/file/wOd2gJIS#n6_xRmE680kN6eNKV59DcnJw0IVEAb48qG1JgWxq0p4
        - https://mega.nz/file/5KNXhCIA#2Hwa5jkp3qow3eZbzgEaILTVcG2VdZSHIMgZaoPG7e0
        - https://mega.nz/file/1KdlFaTC#2MsofNDxVDL42I_CR9djiut8HLW5TKcMWqDLbiAB5Os
        - https://mega.nz/file/FbdDWCJD#zYNbLnTb7RrQMAJGDQ4Qqon9d9rnOAW0vdP7aMX1WzI
        - https://mega.nz/file/0ed2nIYb#ugqa8ic7gsaXna22CeHSqaK8XJ-O4v-i0oj0Ggq87vk
        - https://mega.nz/file/FbEw3byD#2McwunoGVXoRpf8nzPtd84gWTzhPgVrmgGVonMXJYT8
        - https://mega.nz/file/pDUQQb6Z#-yOrGfERldftHML63qXacBOHokmyyvrdq9PtJbAjSUA
        - https://mega.nz/file/sH0FXLAY#Jr__Ih0FtKYrcaaBxyRURMUHjKGh3AgfWY8H7LrIUWQ
        - https://mega.nz/file/ZSFTFSYS#tTPNUQhWMXjPT0hqsgLQ8-NhEvlD9NsvMju2tsfRvyw
        - https://mega.nz/file/1WMD0JzQ#bcfPEpZ_2GjOgA1MeC-wl864IppJxHPtTm-jsvfz8qU
        - https://mega.nz/file/Bf0URApC#QdqgqkIaftypjx7vstxbmWGqLj07_xeaub-JGAVJrJ4
        - https://mega.nz/file/4P0n2JwK#efCPcr34UN2TjKaQ21mwNfNjolOb6D5b5QSjBzmSfnc
        - https://mega.nz/file/cXVQSaBA#68Mb-L_ljB7JdKePsteicWdsAnNkjVVZ2QZ4_OudgTM
        - https://mega.nz/file/YKEw0LzJ#z11sxBH6TpLFJJ0gzVZDYTsANA7bdclEhhwz-6Owawk
        - https://mega.nz/file/VGcQGLgZ#XspDZnApm79GfnPynfunHPHHYPJjC2VYIyYdFMlkzro
        - https://mega.nz/file/tXV0gTCT#u8sXXHqYDDBSMiFwyiiRHZlV8jHLp5PJ9a581PFc6c0
        - https://mega.nz/file/BaE21JJK#OsS58wi7MvBe-bkiN1p8uWtRQ_XS0yrR6rms5bZYJTc
        - https://mega.nz/file/4DUjnSiY#F1XI6Ou_IIZV5Kme0d8xbGzCuyWmYYsrOwzmeC7nziw
        - https://mega.nz/file/RH1g3L5L#b2Uqld3vMDg4otbj49l9h4llibaCK1gAADDisX1vKBc
        - https://mega.nz/file/8PNyRSbC#GsRzoft_1NMYA2OkAAzxZB1j4GWcfL0nxmZbs8glUwo
        - https://mega.nz/file/FTFjBYbD#q97xe4rW6951gtVXQNgfF_mxidMgWBxRPNez7wJXk3A
        - https://mega.nz/file/8Ss3BQRb#L5hVDm1ggE83B8M5oB9bc76PSPKpQkv0oUPAFbVcOpc
    runs-on: ubuntu-latest
    steps:
    - uses: actions/cache@v4
      id: cache
      with:
        path: megatools-1.11.1.20230212-linux-x86_64
        key: megatools-1.11.1.20230212-linux-x86_64
    - name: Mega
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        curl -OL https://megatools.megous.com/builds/builds/megatools-1.11.1.20230212-linux-x86_64.tar.gz
        tar xvf *.gz
    - name: Leech
      run: |
        mkdir leech
        megatools*/megatools dl --path leech/ ${{ matrix.url }}
        cd leech
        find . -size +1960M -exec split -b 1G --numeric-suffixes=1 {} {}.0 \;
        find . -size +1960M -exec rm {} \;
    - name: Upload
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: leech/*
        tag: latest
        overwrite: true
        file_glob: true
