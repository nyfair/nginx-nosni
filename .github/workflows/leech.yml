name: leech

on:
  push:
    paths:
    - '.github/workflows/leech.yml'

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        url:
        - https://mega.nz/file/zA8mQILD#1B8DzCOqnxeskd9_ceLhPjAL_hD-WA03kIKOaaXxKIw
        - https://mega.nz/file/vAtwAQha#kYcRqpfd_PIKstmGGOe09MiMZ7P3IxjSGYX_SioSLwI
        - https://mega.nz/file/KENmABJZ#DwsA7tfJ-x8-LpD4Y5LpWVQybjCDmZPX5nDThekZN-A
        - https://mega.nz/file/TIEFDT5A#g8JhoVJPFmUDyM-9xvQR3HnaWq5d7gW_rQgMFDtnCoA
        - https://mega.nz/file/WYE00YYK#58PIf-wRMTP8Qn7HzsuMAMaGbugZz2JTuvRG_Fmg2fE
        - https://mega.nz/file/3Jswka7R#JMEAt3DkwqU1YFOxeYknNjyzx2tPvLhMr8pGQTIplWo
        - https://mega.nz/file/zddgzYiZ#cC5gJYltKV5Yjo11Aw2FC7o9LMcy-QwGyezk16Gc1fk
        - https://mega.nz/file/PJlXlYDD#KDifLV7BwO6_65W1rU8x7OQoLwmn93rYakNumFHKXz0
        - https://mega.nz/file/KZ1AXQza#mNu_NenanVuNuKYpxcAwL2u_Pk_3yRT78kQCjkqap2g
        - https://mega.nz/file/OQU0FKSA#8430jgHGSlLUisjDX0drvBcPc8MWviO3sCRp5s0zJjA
        - https://mega.nz/file/KQFknZRA#Wm_a2gAejnrJ9r8HPa7saMNk4z53MEBkYU-cajX74-I
        - https://mega.nz/file/GE1DgICJ#BFrarDJEFT34L2nWQgzg16f6gb00o8uV6OtkIyJXzcw
        - https://mega.nz/file/acUEFKDb#swIY-pKyy7rpLx2vTQP7dOHHZYaHJURx_txmaKPQYtc
        - https://mega.nz/file/nE1AiKwJ#dnGRSn2_N1_o1aqZ2wyANOvchz2tMIeoBAhQ_ND3UPA
        - https://mega.nz/file/vB8nzIbT#Ioxla_2V7adH35iA1uAqkFuZGrXTvIaJ4mt21bkI_bw
        - https://mega.nz/file/SV8SmAaa#MZHWbTXSE4lhu8MyL6g_XZPg29tqSrlGCH7G3iNAz_w
        - https://mega.nz/file/6BsAAZ7Y#aOSJxTq6yBgyDo3-M9A8PbPrzZPuTVpDrFvGa3FQc4o
        - https://mega.nz/file/kjciCAiR#K9gMAg5nLFabEHKluA30N_9n-THK8JTinGowWFo3Cks
        - https://mega.nz/file/OIk2ULiZ#lWVyzbL2liE3oZC-v2Bj8JbAyZfqvYclJvZxdVoUVU8
        - https://mega.nz/file/SJsCUDJb#RLfAQ2AnBzSDql33TxULX1D-gUqugji4oYQHRoUigiQ
        - https://mega.nz/file/eQlU0QaS#tFB5yoG-65UH6mADNxzq0s6dy0L4aOCGCrGOQ-Ryves
        - https://mega.nz/file/jJN0nJLa#FjsrtCZ-VuXVihDD5-hThFAxqWqEYZ6zZorCPyLRwXU
        - https://mega.nz/file/Ld0zlCqZ#8_9pvnBw54MghuXkUZlnQyH56q5nD6dkpu629rxTgI4
        - https://mega.nz/file/OJtkyBbZ#R9kVr4SL3DJKUS5L3M7J7ER6EXXEjIXOCR7euPZTH_o
        - https://mega.nz/file/qIFznSwC#kKyIlq2pI6tDh9vW7_qSVO7SM2jSkYhsK6zM-9qjEcE
        - https://mega.nz/file/jN0gCYrb#phcmnUDhtPJtFlvrz7jwIt4a711i6JCvBlhxCTNTq2s
        - https://mega.nz/file/OZ9T2DpA#UwWcoxzMXv8RD7e0bk8rXveT3v2ApuaIqD_0LIIJl6g
        - https://mega.nz/file/edFBCTgC#LXpfC6lL5v1jG17Z25dUEAa53FW-zxhBYXVIFMH8yNE
        - https://mega.nz/file/XE8QTAxI#iGj6v8o0aHF5j6p8Kc8m7snASWVton7D-Tg-5bWDAPY
        - https://mega.nz/file/aENTBDoI#W2oOaFNby-NXNyJd5fOX8ao-Yl7PFSoxidz-TJsqKd0
        - https://mega.nz/file/KcEiDCBQ#r63Ywpfw0-Xz92oaN2qEyQGJMmCpOV4ozljIIdmM0lU
        - https://mega.nz/file/TMUH1S6a#aIZKEmqeOYxDhftWNhEGnDlTJ4hecnmk1xUBwoSTn4o
        - https://mega.nz/file/2cUkWIgD#o8CXwLQebnrTN0iOWFvEcFOJNmV1Acm-4U1NUk82g40
        - https://mega.nz/file/HYUQHRJS#8Q-gTxFQUdAjUcrzhDquArNdN03KIMyhae1aEWtR0vU
        - https://mega.nz/file/LZMQEKCR#LyCgFrl0zRK4TMGnA7l4sZTq-DHJOGI665eyqNVvNzw
        - https://mega.nz/file/TZcD2DpA#MwYO56gpLDTIeNHvpFi4ly4VxMzbUqoVskFZ_SpnIAI
        - https://mega.nz/file/3QUwiSTA#fIXXu5TNffGRjp00onwHTIKbcMLPh1QX-Ult3N8WciY
        - https://mega.nz/file/bJUQCQpJ#KL8UdRHZndy6c1jyEP_etG2ZRVO9HQ9Kj3gnEN8q2_Y
        - https://mega.nz/file/CN9wUI6Z#MUiat3Qvib7EHRkIc0j90fegwLeN2eKjTaAtnsAw5Zw
        - https://mega.nz/file/DENCVLaY#gy5KpR0INiSqwLqFdZGe48RsgMgm8CvuNX9h7ZElUZo
        - https://mega.nz/file/KFVWTCoA#P8SMlVQJcYcQjkbeSnSAFGt8LgUJbdMTsZp4temMmtQ
        - https://mega.nz/file/KUVSXSDC#0-_igD2cFHK74y5V8wXIpGfZX5X0-U83unMHH58VYdc
        - https://mega.nz/file/rAEWnZzT#8lDMbhYQgLObDoUkCHg2O3BK9v8pzcyBiEeoo7V6uqk
        - https://mega.nz/file/vEUHXIra#puvlLMowy87J9ltMzIDzoaUKtHRCtN1ou-TlVTjaqgk
        - https://mega.nz/file/XJsAibSa#zzAvyA6cEwDTKoGaWU96B0UAJM6NDfFcOtUfcA-PsK4
        - https://mega.nz/file/7EkFSC4R#u6ZFKl0xRySrrozuNuNSdcv9w-Mx_XlWQ-OnIIZ0RwM
        - https://mega.nz/file/iQE32YBL#Kx7qWKEeotWUoaDbXqtL_rUXfvJJ7Nk1kEDvjGfQBOA
        - https://mega.nz/file/jdMR1IAb#8JDqefF0voZS0a9Hi_t_J0Ljp-1sYBZ9ofOKiJ9rSxE
        - https://mega.nz/file/rZFhkYyJ#4nN2JenEhn2Lm8E01vRrijGzKSXKDpbF3tSuntV_gG4
        - https://mega.nz/file/WZEAnSDD#y9oMYyVATiqayMvk2RZqX3GnSrk4mV4kAipYG6l-g4Q
        - https://mega.nz/file/fEsnGaLI#RW7sxdQx_IaNRyWcY0mbubSRxsgnPDy95DdWMBEfyrc
        - https://mega.nz/file/ycdW0bIY#1U6cvNpgl7LIXyjMH6fhpvZYEyYusyZtbmSG1I0NEro
        - https://mega.nz/file/2Vd0Haya#LZYHjcLqGt-z0vRiIxM0qctY94WWWbfFG1EKh7JWUOs
        - https://mega.nz/file/bNMUlB6Y#4jF1IaWrHSyfwvS8oLjnkHYCA8qQAnT5sfplFSvd2DQ
        - https://mega.nz/file/vdcTATbA#WpK9Ajl2ihT1ksojSwdZn7u90xCMgYrbRucTeZ72rhk
        - https://mega.nz/file/eItEXJZB#n4XLxJWtA4A-3IzEyS320Cbmc9ckJXIT2F6HzFSqZCY
        - https://mega.nz/file/fBdgxQyD#LwACIrcVj4HDsMasfA7OSNG6lCWxPjJ9pu9lVpu8Cac
        - https://mega.nz/file/KFdFRT4R#6p9TSz7xju37qUGll0gY__mwC-lw1SqOo2zqnJ4QRjI
        - https://mega.nz/file/yBlk0IiI#htQDEiIgcrRbVZbn7stFjJnVDSbfzjPwpigWV9lcLHk
        - https://mega.nz/file/iU9BjQqI#o1_ho-ofDu_5K17g56gGbCrUzi8gqE6v658sapzkpT0
        - https://mega.nz/file/CBlziJ5B#2w5TxHnejLsE5R0xozQpjcUYlQ4GqjUwOd7XvJWsDQo
        - https://mega.nz/file/LNclyIZK#cyMbrdBoUszddDTEI9MTyxuWlkuPG7oXvRYtR_ZHqN0
        - https://mega.nz/file/XYNwTazY#izruudMi1dHewp6923Pwlbt3Hsn6mP8eV63THtT7YBA
        - https://mega.nz/file/GUVAHISK#3awy4md2nZrwdhyvt-h8k74QxYkaN7X_S5TyTWRTk9M
        - https://mega.nz/file/GZ8hiQoQ#m7Y7DUVLVYt7oXNaca-Z5WedN6VsnRBuJ6syYVWU9BQ
        - https://mega.nz/file/LZNEQQSB#F6Uk9lg2-Y1FcUdlSl8ZRa7ZShMIC0Tehr18IPtI50Y
        - https://mega.nz/file/6FFG3TgD#_oBu9lgr-cVb5ZYVtGg4FNFCiX6hINP3tQMcclsKET8
        - https://mega.nz/file/CBVGVJYa#em21mKyuwvg2RufBqaxH1iwabxDXTnflWPIckFDVUxA
        - https://mega.nz/file/mUE2RY7I#EkqsEDDuvmJpDZ1FL-yvvqzHOyLrygR8-6t6nctpkb8
        - https://mega.nz/file/iBcTzTKQ#H65lattmy5DASTtNEcXDmosTq6UfmWg0LDGTT8RQBr4
        - https://mega.nz/file/aVdHDIZL#_ddZfZ76SkxlD7gARvr41iZYPBvfHmQFcsOzwdk-M3s
        - https://mega.nz/file/vI1ixR7Q#UNle1uP_SVik3IpHaKYbtZMh_jfmZy2mpEnaEf1zHdE
        - https://mega.nz/file/KMs0SDyR#_UTnGurB9v3So8MnHDyd385yuuPFCI9KS9E7Tj_wGWI
        - https://mega.nz/file/sztR0IrL#lZk0kuOupu0nVU1E6uzR0caJGpTiW7_CECNQYjMdUaw
        - https://mega.nz/file/BlAAgb4C#hUWEV8YuxYjf2nCSr_4Uy2TCUvTB5XvI50qMF4uEfaY
        - https://mega.nz/file/qE1l1Aba#rZxOSjnRQhBgfxeBycghaeLzFPsD8arU7Kojt8GtAbE
        - https://mega.nz/file/WJNnga7T#ZhbxUazQKVpZcPZCVLeGlB3VSIaacEsBLqfEoVL3SMY
        - https://mega.nz/file/KNM1WbKR#ORDHP14PK6ox_tVtkAqB3M-8PdUbr64peN3MjbTQf5s
        - https://mega.nz/file/6dcXmbyK#SBf6wwI76ZmYuEs4W7vLVabI1uGMnGITK92597YveuU
        - https://mega.nz/file/fNFSECyT#NyMTKKxFRadpXugT-4--Juzp7Bb8tWQSh8OmuO0fZAU
        - https://mega.nz/file/uYdU2SaL#gvHCex0PSiANFeYWAOxhf4_J4idk5F5f6swBGvYdy2M
        - https://mega.nz/file/adcnxBDJ#_-I3nh0-0aA3ZMEuxcCgvwrHdIIfXHIb3qY2XK02bUY
        - https://mega.nz/file/nENh2aKJ#akI9nyCYPBHoTwiU0oGtd8b2xmEjGcrBzDVQU2EdS_Y
        - https://mega.nz/file/KJ0RwCzT#4ZL_9GrGxN965S5FCQwrTgQxCNhHd889ExQgJvoHWoE
        - https://mega.nz/file/SBcgiCiS#Xm0hZEfufwx96yGET6R9ObqzSBetWv7uFYDP_eLcNvk
        - https://mega.nz/file/DEcgALzD#fWox2TH2l4C6f8CCZHxfDk1M7SS08poLa_NzQ_zddWY
        - https://mega.nz/file/HE0jVZQY#3j_XMQexr8awZG4jQ4spHAlwQ0iCd55xvtkNG3fBOZs
        - https://mega.nz/file/rIF2SbpJ#Fky8Yxsx98KDpCTAYr_askLI1PYmWlNDQADaRHe94FM
        - https://mega.nz/file/SFlRlLKC#tnKOR9DvgGXIJTNu2CiomaAAPw_MDrQeNwujoYN2dnU
        - https://mega.nz/file/6Vs1kIRB#V-egyi1h9TfYCGWN5ZwUUgOmKhPI02jBsLlSr2RiE3I
        - https://mega.nz/file/DZl2yKaQ#Pa6tvddSJJvv9mZ4d0x4T0BXnNvHq7T4BNswTZuKcXU
        - https://mega.nz/file/bRNgBZJC#8cvEwHh2hkCSpKhm3xEmARpS4rgU4Bn8zZ-9O4lC4ak
        - https://mega.nz/file/PNVWFS7D#CK2SW4eZjFZcfhwR18gIdytI6Ws2cvifiHXccrie8gs
        - https://mega.nz/file/qFthGZ7J#5vyeDa3UsAhYkSPfeK6lC48HbyYOl8ZpQDKWZ7oKbVM
        - https://mega.nz/file/aVFxjT6Q#6Enq0TCHiAUBrrBrrPvPQ9VawSXnKWsmhKtzSMqwrwE
        - https://mega.nz/file/GBsD1bgC#zpyFH7JrduJXw9m91Z5QnlCY06qWhm4WaKYkWUVBGPY
        - https://mega.nz/file/7NUk2CKC#0TiHfKytxdIfx0J1p29FvhOh8mXede1GyJAWxwI-DDY
        - https://mega.nz/file/uBEhGCDb#Lfv1-85Xcf5EqS83pG48srhBE-yj4czPzsFx_zHRmo0
        - https://mega.nz/file/WEsgGbDK#JaANd8RvdnOoAxSgQpmNsneQS1GQwhm7nL5wQRrQ7PM
        - https://mega.nz/file/3B9ESJZL#koHwMIGGvGwMUxeilMIl_IsZDJXef-skXoBawcJUkSA
        - https://mega.nz/file/6F8jmC6L#1fIDaY5UC6a2z9Xbi-asZva0S--rXXCJ0TegXPiQ0Fk
        - https://mega.nz/file/rZUA1a6B#pu1V5YqA8fcuyqhAjeuJUNnuoLyt3NKLiimvrnR9Z3A
    runs-on: ubuntu-latest
    steps:
    - uses: actions/cache@v4
      id: cache
      with:
        path: megatools-1.11.1.20230212-linux-x86_64
        key: megatools-1.11.1.20230212-linux-x86_64
    - name: Mega
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        curl -OL https://megatools.megous.com/builds/builds/megatools-1.11.1.20230212-linux-x86_64.tar.gz
        tar xvf *.gz
    - name: Leech
      run: |
        mkdir leech
        megatools*/megatools dl --path leech/ ${{ matrix.url }}
        cd leech
        find . -size +1960M -exec split -b 1G --numeric-suffixes=1 {} {}.0 \;
        find . -size +1960M -exec rm {} \;
    - name: Upload
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: leech/*
        tag: latest
        overwrite: true
        file_glob: true
