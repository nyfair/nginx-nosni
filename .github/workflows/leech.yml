name: leech

on:
  push:
    paths:
    - '.github/workflows/leech.yml'

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        url:
        - https://mega.nz/file/4SNTCagQ#e7a8ayeGHWgWc1gEVht-xpoLqnL22OEO-yEFuVrgvto
        - https://mega.nz/file/MSlVGDqT#JG8O_hVs3TPkx0fbaH1lSq2Xky_Ee_N44hNKyPml9R8
        - https://mega.nz/file/dCdCUQTQ#nMYUNUhjnge1zVlP9r-ccWz5-kuI2PAhb45wCYP19rM
        - https://mega.nz/file/ISlxFJ4K#cqVtSHcCJ6jsCzdPVo-6GAZ01lFdFZFZTgajBKGVnyU
        - https://mega.nz/file/5a8ASYQS#msb5gM5rkiVEGZ7mX88HbxX9JREsO461sXK2GPCOSQ8
        - https://mega.nz/file/cb8klbwR#Kcb9FUuG0-lB1t9NjG7VTsVMXsQynr96ce7f5Z1olMw
        - https://mega.nz/file/kOdiwAwa#zlsInrCdk1jSa-hanaH-vhJnNF9QzV_F9QhvF0i4bQo
        - https://mega.nz/file/xDtBTDYS#h1jcJSOtYZS9MNda5FkfQHEXIGkTTx9m_Sf43HJ8ElQ
        - https://mega.nz/file/tbNR1DjS#T31RgbZCpGFdny9haOj7wSaQcl7K4y5eQMnWwIHPCkQ
        - https://mega.nz/file/wLsBWYTI#t_tWbPt77o4QNca1-RZ06RWW-8GPaXWRtIUH80lBJQk
        - https://mega.nz/file/dW8WUYCZ#8j_xlR7H5e7-g67LMbFR-qVZZYJxh-UXE8m-nZUdYEY
        - https://mega.nz/file/MKNBmKKK#6R0G_5tj99Bzrd7MSc8XbK4qN3CcQHU07Eaw5IuVcCE
        - https://mega.nz/file/G24AGByD#o1xNdHH93IrDiMjKxYXBHXBbWQaxhhh7HP6xwt-Vjg0
        - https://mega.nz/file/GupwmSQA#zHilKtqMjUnZg8h0mK8zpCTPgcMrM2S14xny32C__MQ
        - https://mega.nz/file/QXMngKYY#MrDZDNheA7i7SunAJMezoS1LwOpq0PnNkHt3dnFvhKo
        - https://mega.nz/file/MeMkUDIB#_mrnwHny8_jySEoS_xsXEdk8_VcZjjydwa66HgzUUpQ
        - https://mega.nz/file/1WUngCrS#jbOLHx2CzMry5OY47u00cfuXsjz9Hs6dsMe1aaTZ_uI
        - https://mega.nz/file/QPkXTRQJ#20ueDTDlR06pQWviZHbithj98TUAoRVm7du7KT3z5T0
        - https://mega.nz/file/YWk2WZTQ#zXkhwuiY8Uqt4oo8_dG4KDDuOUrnC41f-0nXbF4uDA8
        - https://mega.nz/file/cK0lRSpZ#y5jz_vHNUeOHS5Xryp7ZTksRP3DDd6pcC8-4AlzFthw
        - https://mega.nz/file/EWMERboa#teXTHnAaSB3tGeOCey-1Qdflt_ye2znmZqH7mDpu1hg
        - https://mega.nz/file/haNnyYIL#CFJ3qQgnC7i5optNu0brhtbrybZLXQlmHkabJqyF7sM
        - https://mega.nz/file/AOUlxQ5S#L3hT0yKxEKHY6jNSlLEUuXXXCRBYsGN6gcPJwy_J0A8
        - https://mega.nz/file/9CdEADBB#4MMtrQcBJlo6PenrIZdr3q8g4bv_7WRElazLr0Wa38o
        - https://mega.nz/file/NDdUSYaS#pqEsB6ES8cmV6mMgz-hSpBBMTUPbMcpLDtB3MngB90M
        - https://mega.nz/file/tXN3XI6T#Du1nflQzgkLT_TNEat6wXS-WbYijFf4PazqwSwZZpnA
        - https://mega.nz/file/AWFDCTxR#bV9Z7AhxEDoGOyrC5DMAvQhiTSZ0R8AFO3hX1UGRXuQ
        - https://mega.nz/file/klBGwQrC#FBqDYKKd7pyW3ieOG_RJoHHgjlYILjFm9CoeCw5PTBY
        - https://mega.nz/file/UK0nCYrB#aP3Bsriydts3vGb3npBk5OzaxOdwfPt512wB7hw8MZo
        - https://mega.nz/file/oTkGzIDL#JlbEWyDVKhLWwefbzhWGvIkBfoxLlWo0TABfKp5RZfE
        - https://mega.nz/file/O7xhHYwR#SLJzL160xh3bidaxRaXYuguMUhg-xlJg8F72Lniu8yI
        - https://mega.nz/file/vnoDEA6C#zHKRpCyj7eCbLvNd6OM8v0sZJYl-7WLO_TcwpkbQI-k
        - https://mega.nz/file/znZ0iAZI#P1QuwnDI2dSr6eASZfdDqHnGSH9Iad0Cugm9FFpjb4Y
        - https://mega.nz/file/z75nwRha#JmpB_MnDCRgvhyF2_pEx2tXifBQ4zeoWD0FpqlFjvhU
        - https://mega.nz/file/26A2VSYK#U_pGR0rHopt4zlh4xaKkjlODrg94vNQ5OgTo6zriYLI
        - https://mega.nz/file/Hv5GCLRL#gh7Qg3MID0yXXzIYwvEEn_1hj95tcS3F3lguCvKAXMw
        - https://mega.nz/file/qzgGDLSL#sQdYUQGUL6Xna-dKea4exuVyYZzWDpy3ZygWeJYSXMQ
        - https://mega.nz/file/P6AGUbhJ#y0vQB00Bey_1FLZAmn01R0VSpY_vpIYEaL9Hpirf624
        - https://mega.nz/file/ziBxQIbZ#rBuNqapEp0JWRXZMZlVX43de2fharp9JyVVNkQrfWM0
        - https://mega.nz/file/e6gCTIQb#ZE3U8h-IUaaoc71-hA1cKgwJj8VPi4kQdGll140syCo
        - https://mega.nz/file/7mhg0Trb#qG8IL3HkJyn_DCmPRoFQ_69Js1hBpmHXf_PvKSMSj0g
        - https://mega.nz/file/LuYBnRba#qlu1Wt8E9bR4oVK74B2wpw93u03OusrX9-wMG3gr3Ik
        - https://mega.nz/file/zvwBmLLa#kE5D9qPTWrIVcDx3ytm05HFsPvVW4xVsGrYPr3UKfpE
        - https://mega.nz/file/HuxhnBBB#ZN0fEJ3lJC-BHHg_7WkXzOp4fu1uA3AXjo-zUoXeBo8
        - https://mega.nz/file/KzJmkJwY#LCKpOT3UHvu813HExJwPLCQNo5kzCfdaw6waEyHTruM
        - https://mega.nz/file/Cz5XhJjR#v5PmQSvvEUrFlpN3tpHiz-S8sfux79EVHH5dAq_hxR8
        - https://mega.nz/file/CvZHHQDB#01aK1DQ-6uu830nqjReH1gqt5brdUy4sCi_zb2N57TI
        - https://mega.nz/file/fmxCWKbI#9YfFaGcds68sUx48_CVF5zkEX3_mFDM7JBtQ7O7m0as
        - https://mega.nz/file/CzhWAIzS#IGObUDgJmoBqDCDTe-l-3muFcoU_ZVoApjwGogNia5U
        - https://mega.nz/file/fuRBEQgb#_a_IrfwJmZMVGIWnDYGDMmEfYwSYMOgbGe9RantpUTY
        - https://mega.nz/file/anxkWY5a#kSyK9to_3MoOPF_J7oNMo72tZJ2r0q9t3zixe_-MdEg
        - https://mega.nz/file/z24iQSzD#p6rURP9d3v2c-yycV8Apw4h4JVSU9AGWcVIJ7qK8jUY
        - https://mega.nz/file/SvxzTJjA#JVSS3lrgSwRbczizPCmfx8RPjpaso9KDNFRKuWHfScA
        - https://mega.nz/file/y7JDAIKC#ZiIO0FCzq1NcmjqQRmRm6dpdBDhhHzm9mPJEgfg3jwM
        - https://mega.nz/file/KvwGEByI#_hv_VdV44wa0QHedBaVx7QQverd7iHFip0B77v_XQH4
        - https://mega.nz/file/mmISUAZb#lRPdFNedAH7_PMfubnn4rMUTVyE25MFapsVPate1u7o
        - https://mega.nz/file/LjpBRTIQ#uh7guJtpKrgEiLW2Ohxfva-oQFKTLtl2PZrz1qCMC4s
        - https://mega.nz/file/6nZ0ECbJ#ZejthmUGpG5fFqz-YtjHI47MjHla2SIfsFLCY1pUrro
        - https://mega.nz/file/WjRyxJDJ#-fI6tSFfmk_j4k_dMtKEFlG9mpGhBd_8JVA49zLvYds
        - https://mega.nz/file/ejo21RyA#xVwFv1NtYzOK4a_YhtDgIKq7Q_y5JpdGl9W_1rE_z50
        - https://mega.nz/file/mzxWgQTL#e_X3f5xSuIuEvRU08s17xJkQlCjsVdBjQ-IexeL5HkQ
        - https://mega.nz/file/W3ISiTTT#C3daCWa1bGTjZbH2yd6mOdvRosVqaqmLJS0cUbzdG0k
        - https://mega.nz/file/DnZHUZDY#rYWiQGHbD2bHvRlQ6VEphd4TxTP-JYbOpzzIoWqI9hM
        - https://mega.nz/file/UjtTQRbI#IMN68ctg8ocWGzngrSjzrNLfMCfTYq0xKBM1DsRfUIE
        - https://mega.nz/file/dz0nRYwZ#HOEkQvXgfp8BHJ1yM5NmpoqcdzuVJO4WpuISDydFR8I
        - https://mega.nz/file/OmoXCaAQ#ArZ6QLtDZAK_-K-Jw2kwJIYCaW-1dKA47BJYCKICmqY
        - https://mega.nz/file/buhWVLYZ#o7m03m6f7uZIq-lxuzDH_D8KMbTxzzx6sN1OM7n99g0
        - https://mega.nz/file/qvwCQJTQ#1XBFM1bn9rDcr4YwrUVGStHvwrg9oHFmm_J5K2rTmp8
        - https://mega.nz/file/LyplyRoD#VjR7eXjt2cahRp4OC2EEW1WeNBGoUz5plJEHyWYRUeA
        - https://mega.nz/file/GnRx2ZrY#tEpTYd4SQ0pUrFN6GmJX_241294dQtO5wpguC57Je_o
        - https://mega.nz/file/R7czHYhT#Y9gFZg0uOR1fpvBWwcIulK6w_QWJxbyzA_E6l4FFtHU
        - https://mega.nz/file/1yEG0JjZ#-QadEjjZN_vnOCdFa_30io3Ugq0RJf1YkAUW36Ey3aI
        - https://mega.nz/file/Wjo1kCbS#fi72Wg8yiUjrEPP465nTbez3XjEqA7GsY9aQCTGJBmQ
        - https://mega.nz/file/WrIFTBRA#polfKjlSgMcRwipc1Tec2mPnCezsnokYVZgaXo0Ph1c
        - https://mega.nz/file/37gDBRZb#LKdIoqVJhbf6-W0lww6Q-zDDBfvxbrPgUn3zXweAr10
        - https://mega.nz/file/PyYGiZYS#KUZzJONusR4AuLy2GnlWXtOtQJS4NeeOV_m5uAJwLCs
        - https://mega.nz/file/brJyyQRZ#6wZFa0N0TFQCfRgTTnWYQ-_Ep_J-dnjSvIZj2hqbdO0
        - https://mega.nz/file/2v5SEBQb#0XHQT1VhvQWJVQNA-lzL3ui0OJw8SCsFasJmfkheecM
        - https://mega.nz/file/nr4mTQqK#EE7hrqwWUDB6jOdF7kkQcjdEqpp6FK_yRKFtYyXZIIM
        - https://mega.nz/file/njgzmYYA#HBeVpVePfPdCHFdvTZ4UpVwmCcr_FfZPnKihm4eA4zI
        - https://mega.nz/file/3rBHHCLa#kCvF-I9o9aj1SyyKLJ72OLv5A7p8_A7kr-vB1FQ6d0A
        - https://mega.nz/file/DvoDTKaQ#Xs3xdx2dPfd8ShDfPF3BAWWWAmAiOBdWjSxNmO_gmmU
        - https://mega.nz/file/LjRjzC4K#CYO9jB1KP7KlqzJTxQCYrB_xu1KtyE2VhbSa_Wf9F20
        - https://mega.nz/file/qzwgTCQZ#xNcpCI8rUaR__UpAu41zmtZZqCFudihJ7VRp_EdSTgA
        - https://mega.nz/file/OzhmDTAJ#HOjurf29wlP3OULcr6wLhKMziBRl2vQqiU7B62xjK6A
        - https://mega.nz/file/7uYHxYiB#X7c9EpDDaorJyGbxzoO-WPVqjVR52E3j4rOfxtZN-9o
        - https://mega.nz/file/brRG0Q4a#2vzxkP5G_4OhliBYqG-h20qzvVmgVLHJQRzyi6cqoZM
        - https://mega.nz/file/P2BEWJoJ#wgHFAreFYZ7SCpYYZ58ZFcgJyVrWdcNPiOq3tIUVyD4
        - https://mega.nz/file/uzB0WBrb#AirrHesNtRIHWIYL249oPIzvu5htL4azZkcO_qmF-BQ
        - https://mega.nz/file/z3YWyJ5S#jdeTpaKswQLf5qbLQxsh5-4SrNuwA-Y1S1tFfpYm11I
        - https://mega.nz/file/7zgylaAJ#kB4Ss5fJ_Gz8uDlFMgZoRIbfARWu_rJ31i6RSQ1K_JU
        - https://mega.nz/file/SqxDXbrZ#Zc_omxu57Fdvn34rJQFrrnZqM3zh9WokgnV2cArDjAQ
    runs-on: ubuntu-latest
    steps:
    - uses: actions/cache@v4
      id: cache
      with:
        path: megatools-1.11.1.20230212-linux-x86_64
        key: megatools-1.11.1.20230212-linux-x86_64
    - name: Mega
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        curl -OL https://megatools.megous.com/builds/builds/megatools-1.11.1.20230212-linux-x86_64.tar.gz
        tar xvf *.gz
    - name: Leech
      run: |
        mkdir leech
        megatools*/megatools dl --path leech/ ${{ matrix.url }}
        cd leech
        find . -size +1960M -exec split -b 1G --numeric-suffixes=1 {} {}.0 \;
        find . -size +1960M -exec rm {} \;
    - name: Upload
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: leech/*
        tag: latest
        overwrite: true
        file_glob: true
