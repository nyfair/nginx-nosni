name: leech

on:
  push:
    paths:
    - '.github/workflows/leech.yml'

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        url:
        - https://mega.nz/file/4OkE2T4S#3Hjwhc9X3oPUbu3VgfKh8FaoKr11ed0gO-cnVUkaE_4
        - https://mega.nz/file/cD90WSAb#RriqlnD9INRFMD8-QdMe_kzFZ_w2zYF2oYrw7-_FCJI
        - https://mega.nz/file/ILsBzRaD#9YzoTSoF8KJ3S7Fechh94T-Tt16CDKTOJGRSAyYibw0
        - https://mega.nz/file/YbFDnYaR#AEuSSmgumTYDF5U-R2cfyc5LyEGYFLnwMQHH37E0B0U
        - https://mega.nz/file/1PUinbiD#InFQ6jZGHWUDgfiJgM6SW0BJYcFli800kcgvyUrSMpY
        - https://mega.nz/file/UOdFjYDR#ADi-SCJaoh4iMgUIAnIpEFlcFzG5Vo-z8tfy55FjgFs
        - https://mega.nz/file/dP9AhLjS#_IwBexCKWIttSFxR7XmZ6CU3Y52WCBggm7frEmmrZiY
        - https://mega.nz/file/EWNWBYIC#MXe01VYFg-kOQLahv0sgFLJh4vTeqGMfZkQS0LPZuxg
        - https://mega.nz/file/1CN13LxS#eKBLNjqz1Eg7vCBDkOONyFFgxtZvZtS5MahHRPmNKTE
        - https://mega.nz/file/ZfEBgIQC#MdMgiZnRi0ZktX7jTyR3-_ULXsz0k_Foim44how9rTg
        - https://mega.nz/file/1PNhwCDA#c36gbTBky3ByxWp9ItvSdwEn86xqZmE1u73baC--_IY
        - https://mega.nz/file/hGFmUR6K#hg8U3DQokHXXvHLgxzgF5714EdhkHJbqNoKDprcMnTY
        - https://mega.nz/file/xLMiWbSR#ygBWcsWSvFdLd2X-I6VwWBvH50mZYJHXzittDAS1B9w
        - https://mega.nz/file/IKUnWKqY#A1oFPQ_JAJvWRoFAogdz6jKDvtgjkC9BjOnNwJtFsg4
        - https://mega.nz/file/QKNiSK5A#JcRI5BpYCRuqWAVHbyc1qN87T5V1Z3xbnRcHuz3h2Ro
        - https://mega.nz/file/wH1AwSoS#EFZYCdIiD2ZEOlxi0brdhnT3MTn2JY7GP7egOYJxqK4
        - https://mega.nz/file/UeNVGDiB#L70xMGtMuQzibSVwIN8YuQaEX2wnIWkFuQ_USi71Eqg
        - https://mega.nz/file/dDtnFJgC#ctgymnCmimzdECr59AiAUnEybUzCWUvAxgQQNuOGI1Q
        - https://mega.nz/file/RTc01aBK#eZzJ1piZ6cxqVf7z64wdwogO-Nh-rtMrhqyV2XJ6SWA
        - https://mega.nz/file/4HNnXKBT#-hMNAcyuWmKN55GpydHZLwTgyxtB9aswMXm9Keg-fY8
        - https://mega.nz/file/BO9hEYaQ#mz-MdWLR19NaokOmQKc6dJDPiCqsPylwUx7XcCxTOEo
        - https://mega.nz/file/9TdVHSjB#ijy_oOi51DVRcKGZg01sQeCoQcROYXd66BNETha9pQU
        - https://mega.nz/file/0CsT3bqQ#uYDDHhtnI1_sbQC1vojpTrl_otNgrKYxuJFk_YUH-WM
        - https://mega.nz/file/sTdz0DIA#qrrR0ZZZznkpmRPtoFxm4NgJymx8CBkKofXGG_hSbDk
        - https://mega.nz/file/gbt0hapQ#WVVsX0I6glSz0Z4Oe7wZjrg8eo4RCwk186jHwD4yIMo
        - https://mega.nz/file/YTFBURyY#N6aOlZrgI7K3sEITYcp8eeKYzc5XMM2mCjvjEUT0U3o
        - https://mega.nz/file/hbMX0RCb#HVng3cj-985ir7kz0xuWeHpP0o4k8JMom1GZjdMcs5E
        - https://mega.nz/file/1O9ghIqQ#Wv9xn1R41YBMxXV9p7Ikr0CVHLo0IW_jB_LlETz0gq8
        - https://mega.nz/file/AjdDGYYa#m48BkyPJAIUC2FTiXM8IygzV7TGtzVlk5MwJtMrRGW0
        - https://mega.nz/file/AWlDkZoL#Y1qSw6sj1aWeIWWYejkGRI4PtkBPswDHGEYwIVsfozk
        - https://mega.nz/file/cHthEQhB#bVPz-g9-xGReosiFW_iwkRsK12jCsQXqTPGiZjVOxfc
        - https://mega.nz/file/ROkizRKR#vttzfMvLkY_b9iY_2B2giVy4k1DbS1muz0ZUQp4TV5o
        - https://mega.nz/file/IKMRHTIC#eA2qvxPA3GdoFTuSmvBJ-x2fmwM2G1qZHcs7H8cwSUA
        - https://mega.nz/file/smk3GJzR#Y4bnD6YHtRCPylz6ELnrXH3vlan2LnSqbZyJJHJXa6M
        - https://mega.nz/file/AiMglATS#r-kkMGZPY_010ZXWyNGJO7g5ZzWB_MPvzm8E2q8KEq0
        - https://mega.nz/file/tWMRTRZK#Y7emOEtdm3WMoYOFMbBoqjvdMK6_QJ_bn8jFIHkuvTU
        - https://mega.nz/file/Bqcn3TxY#Kx9-XmQmbQFQ-q4bJ0ZvCTZZrVsbhVxsZ0SJaxaChwI
        - https://mega.nz/file/tD8ljJpL#glT5yraCwQpR9cbraQXAKZE4vMnEfnPdkTWhfDenKSo
        - https://mega.nz/file/cGlyCbQA#zOvqVDYCsEabBc82oxb0WCyAfrG3m8YfwisNinDq1u0
        - https://mega.nz/file/fRl0QQpQ#px4HQI7RwmbZpPNj9i43aFeDDxxei_J2hROakaqzJxs
        - https://mega.nz/file/xLcEgTbK#fkRYS-bfih5lxUBJCq4553LoMeviM5s3ER--IwZfNWM
        - https://mega.nz/file/sDlUTYzJ#elZGUOCM02LmEE1ojxmTwStCmMWamtdOLlOVzRvyOfw
        - https://mega.nz/file/cLc0XbzA#O0-7mHRKDN8jVqdwhRP3tg9SSPz-bNO5LZGsKPAaDNg
        - https://mega.nz/file/sDV0AZRB#X2czoNqI456Tjp7IzFBktG5OBalNPhdhr4CCL5xenls
        - https://mega.nz/file/sHEX3BiC#0Y--ztTRoaCc6gPMJRuNU-SSY1S7zu_UKfs5a0Qgn4k
        - https://mega.nz/file/8eVxARLb#sOuPSAEwVW0ePPRYB4WTX1y8Zt24jmHnpX3mbOntvmI
        - https://mega.nz/file/ADl1UZqI#B94T5lT9pZ7Idnu5OD5BL6lwJBklhhmqd9AhwJfP3Zk
        - https://mega.nz/file/pPN0RK5J#H138XAj-b1l6noOcYNtnf7s82-vjZPzNGS-tizoVJu0
        - https://mega.nz/file/FTVkWADS#i0Z3VYLqOw7-6GFuCp8hoC-iZaJEDIqXGwjc_ZRcX4M
        - https://mega.nz/file/pec22DBT#C6pd_M_e9vh_gsouyuMNhBJXvDAsgTlMrukAqdJ9dNA
        - https://mega.nz/file/QPUkEDaZ#udPYLwpQ6DEWgdLF9ATJ8BohFF-INLhMzs01h04XKR0
        - https://mega.nz/file/4OlBiL6A#RKZEt_WnLOOmI6lOxaWKaISSYUVl7-MQ1QU7QQIYI1w
        - https://mega.nz/file/VGERCJgY#4waEU2cSu_JDEUI0ZMyi7G8FdzYtmTIq6yPckigzCN0
        - https://mega.nz/file/8eEmyJ4A#DHKSUCxpGxvMDqrxGQtvADfioS931Z5guLHkrIqMcL4
        - https://mega.nz/file/UKU1DJRD#wywdKFOcedYoAmJMkEbl8jhnNe0fcTiODbQHoTZwJsM
        - https://mega.nz/file/VXV3iIRA#YwLv2JwQkBKuiQrMhPR9_jDRU56zhPS5N4pqCD_E7Cs
        - https://mega.nz/file/BPdEkLbI#eQVaAklkHBykEqZxlMJRgYaxRl_IYFL5r3IoFGDlor4
        - https://mega.nz/file/ZbVREC7R#e4jb7aEKCdpDrEaafCkmjtoeBPngH2V-30_I2k03QSE
        - https://mega.nz/file/ZCUj2bzA#_OfzPcTqFlXtRuUxRORbSXUDLl2yoTCjLXcj0ZSiDEs
        - https://mega.nz/file/1eEwmDbS#c05xeObgO2uwgp6Ty5vtLp-56rl1ryhHTXREfqbVPa0
        - https://mega.nz/file/8fckmKTC#fLCfI0qe9p21GxL_JQGqFPt9JFjeebel79mOPwVBPWE
        - https://mega.nz/file/FeVyRS6T#85hwapH1FeVSJ-cuv9bQwusCG9NcpOs6JDmeWU651VU
        - https://mega.nz/file/gLd00TQL#yUaRiD37gpLe4WOm95ARF_hAhYLmbUC0kctlie5HWCY
        - https://mega.nz/file/oHlxlAIY#ysJ6Y_--HEdJKzaAeJVx76gXlrrrpdSmG7RNOEET2xY
        - https://mega.nz/file/UaFGWT5K#mLqxN-t9Ipzdc6YZtFONuRe8ggZabFcUQtNmQ6oPOyk
        - https://mega.nz/file/8bdzwZbC#zsrReVvGxVjtM9J7BaGCLd3QoCL3vXK3kWQIi-65Ldc
        - https://mega.nz/file/pftnjRoQ#OZUCKjT3kzD7AvUC4rS0e4WRrsFWsKOhlnz2jeDIUME
        - https://mega.nz/file/sOtCRbDJ#jPR-D_PQfdU71RLfm5AmIbPm2C5V3CxdBVuwa3v2Pn4
        - https://mega.nz/file/4TdDjQCK#Eq9fTIHCfyMb7Zc2Z8l9bodMOiok4auEIN43GMzrLV8
        - https://mega.nz/file/heV3yLQD#dJ4F66dxeZZJBSrKKyJP4DTiSfbZ3fJHKOULWg9jM9g
        - https://mega.nz/file/QPlEiIQZ#Y2HUXgh79hexLQVobh_eZyILIZ7IMIws8WnUsvYE8Qw
        - https://mega.nz/file/5bMXxL4J#raLPCUwpHQqZaqBNjETP6j-JMm9mHcLxYgNHwAEEJTo
        - https://mega.nz/file/ArcinaCJ#E6-NG4PpbAgwhuZnU3FY-zThRZ_4M0hscyCHfGKVZU8
        - https://mega.nz/file/YOFhGZJK#P0mWZvVjFeOUEhnh8U6vaQupOjCgncaoMVo1ps9Xm9c
        - https://mega.nz/file/ZTcDmJDI#8VzMY7tnnJ4IEgshDF5sxY0yn81bg2gpxNp3hdla0u0
    runs-on: ubuntu-latest
    steps:
    - uses: actions/cache@v4
      id: cache
      with:
        path: megatools-1.11.1.20230212-linux-x86_64
        key: megatools-1.11.1.20230212-linux-x86_64
    - name: Mega
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        curl -OL https://megatools.megous.com/builds/builds/megatools-1.11.1.20230212-linux-x86_64.tar.gz
        tar xvf *.gz
    - name: Leech
      run: |
        mkdir leech
        megatools*/megatools dl --path leech/ ${{ matrix.url }}
        cd leech
        find . -size +1960M -exec split -b 1G --numeric-suffixes=1 {} {}.0 \;
        find . -size +1960M -exec rm {} \;
    - name: Upload
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: leech/*
        tag: latest
        overwrite: true
        file_glob: true
