name: leech

on:
  push:
    paths:
    - '.github/workflows/leech.yml'

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        url:
        - https://mega.nz/#!Bh12BC7K!JlLVJ9N0MDNIJiZ_XbB9fqhTdRzSKoHWTcYoz3pXbwQ
        - https://mega.nz/#!AgNV1ALY!MJ40rsAWUcIrHwdv-1tpEqPygn3SreUTaCEQBC_6doM
        - https://mega.nz/#!8h9CVIDA!rv3RqGTYDc_2rvfg-L_n63I1AQQMjdwKzIxI06YChhM
        - https://mega.nz/#!E5N2xaAB!i5MaIaWMUZBbHKpI8zmvKbqYI1J_Dj9UPhK37r5tgHk
        - https://mega.nz/#!R50wxCzA!jB3ySXOhd15jU7A1Yh5i8wy2czO6ZagFe_YwAo2e0as
        - https://mega.nz/#!4hcBza6B!c4IV4RDKpkmhgWSZG5GWlaLwO-m8fXsd4OppMDhkbFI
        - https://mega.nz/#!Y4sHGCQT!wobPMx6nFnKUdGHo9JT71UQGSbOk4qZdX4tfnKj-JPI
        - https://mega.nz/#!509ARK4A!vsjW9ld08YPjrjFOSEqbJR6nCpjaJbPOpSH7ue7B2ts
        - https://mega.nz/#!Ug1mTAIR!kz8aMcan2eTO0AKWlD2EhCLMFdygzNaOH5IA4oyr62U
        - https://mega.nz/#!R5dX1TwT!vuurWoifPV0LHXsuFZqJSrDV-ZZsuB-IxPGg-wCAV7c
        - https://mega.nz/#!d5shhBzY!Pb0guh2xPwuoPt6CkAiZ9zL0JyV7JBRv0mon2aHcvao
        - https://mega.nz/#!9pV2kDSa!0euNmvxb-Cee8h7nT5bwZK8UvNk4BnDF4conhxrixMs
        - https://mega.nz/#!Y40FWDqS!VYXDCH8RWP083PA7MBEXbfI5Cws4SbY9XHWaBhypBRc
        - https://mega.nz/#!BlknhQDK!rzvMy2WXzC7wAWrLsNwwwK-JiIfl-BwumEulW_cYXNg
        - https://mega.nz/#!NwMDCJqB!qHJduD5ECwHQq2mPLHZ-vkU4lhqvAaCigSA3pBCqnP4
        - https://mega.nz/#!t4UFRZxA!D5BrVIG4V-QZyvZ0n8xB7ISoDgrskQAxdaxgFrQdzW4
        - https://mega.nz/#!s5FgQRAI!IJ4oMP-Ix-KOq6gzj9mpTI9h8z--KHQGJkmEhSKOM2o
        - https://mega.nz/#!9tVkFDRa!-ZAcR4h1vxyf4EjFwnbdjc3PiqpPDzVHfbMrf7PtDVs
        - https://mega.nz/#!M9Vi0a7Y!Z_nvbEZx6-vzdAJ1xLImgLIrbAZWP-xn2zGkW5UGAHA
        - https://mega.nz/#!t5MXjBZB!atU6shW22HC9WvMJPO1x8IVzQAwYE5qBAoZCDI0UU84
        - https://mega.nz/#!poUTlbSL!Aus2fYLRVVHkNB5GD5ZyDSbkQA5u38a_oOBBeUuj1H0
        - https://mega.nz/#!48lFRTKT!DVFaTE5fWRkiL_SbNWua64jDIveaL3BTXSS64dlhs5A
        - https://mega.nz/#!wwVgESjB!zhdx4xHw2reU4KV3raCqo9YouHcUCzS_HWSjYFxNA_4
        - https://mega.nz/#!09kCmKJB!WWvB6E_INPjvlx0Sq6hFMBpN0c-W0GnwSd9NL-HuZlc
        - https://mega.nz/#!Rot2mBwA!h-u0rTByCdAwbTzI2EGnMecwjoij8a-h8jOtcKy-uBQ
        - https://mega.nz/#!toUFVArY!sNggYoUxNtc4ztQbXZPLNHJO8ZShE9g4gNe_89zWgR0
        - https://mega.nz/#!swd3lAyR!E07cjPO0WOwSO2qsvTji1p36qx5rwGJazaHRBGOECyw
        - https://mega.nz/#!Y0kyASwK!TB7XNTwSvGnSdp6_a0DRxR_WobMXIi1UEXjyzC_1XUA
        - https://mega.nz/#!Rls2nCZI!Im3r0-2-_B2PaUdGoN2ZV0HA8I-T5z2RyIr9zmFSd5A
        - https://mega.nz/#!M1NjSZRQ!tdgyP4MXMbRX69fPVUvRaSPrduX0LvXSYFPo9d9LIWo
        - https://mega.nz/#!8lVBDBRY!o8T5oaw73l0iEaBIDLDFA4XRMG9ccIfriq6m8qjjeQs
        - https://mega.nz/#!9gFw0TYJ!98Dy0Vcx4p98GxxTGGNBffTsMvqxSCuhPvSj-uBchZ8
        - https://mega.nz/#!xpMX2DBZ!-4eO0WYefDUt-WF9IBhgT5Kbo0drrh2J3Ye96fbyTRo
        - https://mega.nz/#!0scXTICR!8tmWQNDn7sk9JMKpbG6G3itFIxpWqUwUBlzp5jAb09Q
        - https://mega.nz/#!ossCiZZb!U-kiLYirZYWHF_1rZFVBtIymB2wjesfwH-ncINkMFQI
        - https://mega.nz/#!ggtCCDAC!GaiQFhK5IxoPBtLysTUF4HkrL3rW85ZJS8YbrvoRWpk
        - https://mega.nz/#!AgUxkDgQ!Qjh1zF5cnBGLBBe5mnd1v9LAORfWDO1NCv4jJTJTpRU
        - https://mega.nz/#!c9cBzYwB!nltdLqUE5tV9tq0qrhNtrNxmoUe6bRf9hoxF1is6ERQ
        - https://mega.nz/#!s49yhBrC!s2981hYGRf22SfN_7oVJ2rMjeYji3B_mKIBjloJpg3A
        - https://mega.nz/#!R5kkRSbY!zud4zSs0ah5p7PEwTQXEmziKjb3acevGn_XuxOZkv70
        - https://mega.nz/#!9kFDjKCK!x5SAjk1cMST0EMGbyqtiqbChG1Wi5SoFNRifQnqFJ5k
        - https://mega.nz/#!w1kCFbRA!8Tj0xhfgCKHFpkCAJ7PqK72V1PrYjcKj6wDUgr43CD4
        - https://mega.nz/#!Q1clhALK!5Sti_Kkf2mkWiPuGxf2KQMXxYipdkHm1ZfZMkA-LL0o
        - https://mega.nz/#!V99gwTRL!92UghF-Muj8O8EXyZoZGA3gBvYGKKEDOWKe1bs5-DaY
        - https://mega.nz/#!hgEkmYKQ!2JKLPukenx5x25OKxNbWAErpP-RoynLyV2F3IRDoGFo
        - https://mega.nz/#!pxEmTDSY!q7X6Nv_uBhHWmKUSxYPg80TCXP3Tr1MRgnR6rfPSj2Q
        - https://mega.nz/#!00dHHJja!ZyLEW-2AmJhwl1kmSQPcGhZCvZa5LqBlJlScnfUkC34
        - https://mega.nz/#!Zt8i0RaC!mP5nftp5ccK1WyAVXwFvy-yO1CYFmNdWmlZH08r88nQ
        - https://mega.nz/#!Et0BDZTC!Fskm_PJi7C504BPFxPrpcD-VTBw7s65Q_z1RkvoL7BQ
        - https://mega.nz/file/7Rp3nI4S#K7T_yMy9kvg4MsW7hvjIuDPiYbYQ7m14pkr6ohsl02c
        - https://mega.nz/file/PVogGLLS#NHiQciAP3E8abhEh25rO7fjYCZy4jldup9lxG6fzjRw
        - https://mega.nz/#!RxExTJDC!fsR9iGsVj1uya-jyyQCSeSwL0FulZjS2ZW5bubJV8eE
        - https://mega.nz/file/T9wASKrb#fl9p3lVryXtGKFRkyYMCmd9AYQJOTXheDBC84HBR7TM
        - https://mega.nz/file/LAcHWSCY#CtyLGG9_l3k8uDysZnH6A9T4v2dWIQCOIts65kIdNCk
        - https://mega.nz/file/C8wkiSzA#Cq5s5EPjxFknDGGJb2OzPvzpXhb5IuHZIiy_zYNVbzI
        - https://mega.nz/file/fkxmBYqB#U2zVQnZyB4dVQfp6h6VSsufQDDzkrah5k_lUBoVrf3E
        - https://mega.nz/#!x8MwXA4a!t_uf00UH9NyOS9xQue747hbKtzM_GNu3jh_YSxg21nc
        - https://mega.nz/file/X7xxQBja#eE43kN2vAt-hR-x3P0qlL-9ss3orLYdftQxVWKFZKq8
        - https://mega.nz/file/XiwXCD7C#j9qAPQvJt3bBlCOjP4uY8trKbkDOIFjfqPF2Y2cEchw
        - https://mega.nz/file/rlITFS7T#cFXwhYx0DfipDk6Z9BrQiIXys2d58jyIZ3D6cy5bLKo
        - https://mega.nz/file/bNhC0Zra#WkclZ4vQ1-PdW_2PQ0wRStuJ7i-bU8I31JrjPSpkYFg
        - https://mega.nz/#!VsNWQLaQ!YVC6VP-M-cYNCoIBVCCBJHpHxW0s53qWAmxMxFdpolM
        - https://mega.nz/file/eE4E2T4a#-XFGxuKRDA2vyd19q9KSSjpztrOA1y95kE7SNP6BQAE
        - https://mega.nz/#!Q89lTA6Y!OPNGO1Y33fjJIVjDznTiJjqrUFUsMbYQXV0KnP-s3Sg
        - https://mega.nz/#!A502iIBT!bLJwCux7mUq-IwUjri2KtlrBOiyvTX30oyWa2qdAFPo
        - https://mega.nz/file/PghShaJJ#kENqWwZC1Lb2LU6UKNWfO44vHIHZULkrYGGqxo7gHhQ
        - https://mega.nz/#!m2IgnY4T!3rG8kQDbU0VlsEkndl1u3n6Gi7uC456b-oNkpT_iEPg
        - https://mega.nz/file/iYog2bzA#f4PA_FeTQtmbL-_0KYObpgVhLwRGiFHIIkM3Kq47-Rc
        - https://mega.nz/file/qZJkyZqa#z99hR5YOYw-l-Lk1u7fD0NxiiDyA1EtvcqopAdV68fA
        - https://mega.nz/file/a9x2UAjI#094MTyS2HKE8VRxximEYZZWQbUP3CuJhVcF63PWth-c
        - https://mega.nz/file/iox0XCrJ#XMHSN3fI-McfuNz-evvn8J9uo9g01MnPcXixHtaqyPk
        - https://mega.nz/file/u5gCWKyR#VVqDN9cMv35geNz81ElLmkysPsuzsj23_B4f1vQgUeQ
        - https://mega.nz/file/ft5CRKpD#tym-RDZB3a3Db9mifuLWbnej0ckJ9nKmbSGAH9sncxU
        - https://mega.nz/file/D0oCyKRK#wueH28-RQYOsp_4BQajCcR8eMajfBcL6Zwrt5OxzGsM
        - https://mega.nz/file/i4pARYhD#4RPo2uXuER9a5o4eyYfqnjFFjo-7cUaiI5GjdkQBXzU
        - https://mega.nz/file/kQ8lBaKJ#XAb5v21kZzs3KEB02noBOa7XRJ5V7bA-Qo8XZOaTe4o
        - https://mega.nz/file/KtgQAIiA#v3CrexuEyixpxtE1k3ppVbnX7vkoFhlC5l2ybChR1-M
        - https://mega.nz/file/L8wWgS6L#6bxv6YX7vnEVXkspy9gzuJEtMQkcN4TL0IFdLvruv3A
        - https://mega.nz/file/i1hWRIYC#TMsDHCJ-om2zpncCL88ccHVWl8e1UEetRilUh1a_lzM
        - https://mega.nz/file/Klx2UYTC#RzLA7FmbqV89PDIoEiIRJNu2O-SYmrVrokyrsdVfXJk
        - https://mega.nz/file/JVkSkY6Y#KL8vpEwQrcKJNjeFaM25lUStRI6uF78kyECLLsy_OVg
        - https://mega.nz/file/NZkiWAqJ#6GKNATe94dfoZ2XQRGQxrrQY7i5LOld2XcRiTHuA0BQ
        - https://mega.nz/file/JM8UWK7C#ZAha4LxU-eqex1w3QWenKPILzq7Vi0kTNOfPjxWEtcc
        - https://mega.nz/file/gctGCKZI#q-o7tot_ZAvo9EP6j3ERdTXs4ztjfLS7PegFJI7oZU4
        - https://mega.nz/#!hdsxFQTC!GhlLNYHFwXR0GTiI0BPZCssqrid_NTn8uZIsddzLqEA
        - https://mega.nz/#!AFkzSCbZ!rfumaVbif-fDThWRw8OUYD9pETM3tzYGQYTiewsS7Pk
        - https://mega.nz/#!MU0nWKAa!h2bNPxYsLhWyI1BIf2m4DDPk9BlTBuhc0xf4J8TOqQs
        - https://mega.nz/#!gN0nzIwZ!rX9Gkv2r-Jn4rdPUMRY2k_4Mvb9mKE1cxM8KhJ9Lgeg
        - https://mega.nz/#!oUdBSShQ!6xH44OtE1ieGcAEf8NGsQZhdkXnKBLiu86kbVaAIh9g
        - https://mega.nz/#!IRd3VYYA!Lo7cFc-IcRJmnTdYgKvbJ4lfTJwmtvnyfi0ilCsRwYQ
        - https://mega.nz/#!gYcRASxT!F0KdJA22GF9zjA8cFZJsDUR8t4UecnB-nNl63bdageU
        - https://mega.nz/#!pZdhEKjb!GzvPLOoE1_1EHG5Py1zJvjyxKuon-AYK4LX-Ha222n0
        - https://mega.nz/file/oB8CmDpa#9ZSKH30ySNXlMhQHJIL1kUwoQUnh1Wy00m-aYT3TSb4
        - https://mega.nz/file/S8xGiSzA#Oq9NT7lX28eSiPhLQw7WVS0K6QOxV17jPMOctgxbzfk
        - https://mega.nz/file/1N92GC5D#wLHO-gUUjnbGkXy4nPrrnBSEhakbjyVaBgcCl1_qFRQ
        - https://mega.nz/file/4YFmxDqD#qN7d22jBpfFt7bvy2jVa9cagSjslIP1GTp89xkwAsUI
        - https://mega.nz/file/NZUwXRYI#XIY1hliEAgo5fsgZfW7cVz3xAVCWWxydOBp_axkO25g
        - https://mega.nz/file/0FdmkRZT#kOen-Uy0AkfgnVMuU9Dlr9zXLsbx69D3hN4b0BRmYFQ
        - https://mega.nz/file/kJNSWTzC#4SgSYLgMXKMPbGWN-MKddC6pK7Hmc0qeiaX6w9TDdPk
    runs-on: ubuntu-latest
    steps:
    - uses: actions/cache@v2
      id: cache
      with:
        path: megatools-1.11.0-git-20211030-linux-x86_64
        key: megatools-1.11.0-git-20211030-linux-x86_64
    - name: Mega
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        curl -OL https://megatools.megous.com/builds/experimental/megatools-1.11.0-git-20211030-linux-x86_64.tar.gz
        tar xvf *.gz
    - name: Leech
      run: |
        mkdir leech
        megatools*/megatools dl --path leech/ ${{ matrix.url }}
        cd leech
        find . -size +2G -exec split -b 1G --numeric-suffixes=1 {} {}.0 \;
        find . -size +2G -exec rm {} \;
    - name: Upload
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: leech/*
        tag: latest
        overwrite: true
        file_glob: true
