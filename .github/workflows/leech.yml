name: leech

on:
  push:
    paths:
    - '.github/workflows/leech.yml'

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        url:
        - https://mega.nz/file/o6FD2LKB#gfUj0Yj1bUB8QFMvtMWEncXpavgY0mPZMGur6HcCJ6M
        - https://mega.nz/file/p7tXRBpa#ooMFzQlWsUaYpUoSIfC332ApHTXhdsTpQICnL2NG7vI
        - https://mega.nz/file/JvMRADCC#459Rlt3as2e1agZYEZvQHDcerHM1oaAryAoqYNFVu5M
        - https://mega.nz/file/c6kVXLiJ#YtybpP-uZtwY9Xx25w2I7-sSGEt4ilwbXsubDx89jC8
        - https://mega.nz/file/930EGS4C#kR7JmlLBiJpH7To5ppftjBG-uRU5pf3g_OUHyo-d7cY
        - https://mega.nz/file/d2cTgARS#Fhdc0_8Ni9NVeqo7NNzAsydufjpNlalvd_DhzjVupmU
        - https://mega.nz/file/gjMnBZyJ#xLcwJ-PVU400qGQxJX-FH3ssv2U7PJ2ZHb8At2bD1q4
        - https://mega.nz/file/gqcjRaQL#-cy_Sh4CPFDnkC_SPIA2nqmDy9lG8AnxefQjNJG0xsg
        - https://mega.nz/file/knlSHSrZ#mNcTmo4_8S1PQ7WqFIiIV-YxBuoxVIus_d8GGfbR6Vg
        - https://mega.nz/file/kusBBYqC#SIuM0_ZKdZAEuhcnK7TWmurQw0W3FvMA7Z1n6bgwHC8
        - https://mega.nz/file/ovsF2ATC#DrgckDYPngdLtD_eSGiYGJAZACqTiKi5q6WyNGRDkiA
        - https://mega.nz/file/pmEmQQTL#nySZCZhf_wMwXsWlf-ZovLHmkbtnvm3XMrM3q6em03A
        - https://mega.nz/file/Qzl1RYSA#3QUvHmCVAI4jPvr_6IdIrcqD9tdAKFus-YfalKfeIrE
        - https://mega.nz/file/Rvd03LIZ#LXc871IwSODUe3GN9lFs9DALpTORXj2hkPwTAfNGs6M
        - https://mega.nz/file/YjNzHSpC#H4uXq4j3_WzCjuez_cy-tBNMOLyTmj7q9uQshL1Qz6Y
        - https://mega.nz/file/YudxSRTT#dOGF6PAowiOzwiK4QJJyj5iRPJIr8kp-eO4O-gxAO4I
        - https://mega.nz/file/4mMVmICJ#Y-Pmxg26q1o7HtbQoPJDv0e_Lk1CU9AzbyUi2_X2cHw
        - https://mega.nz/file/Fr8FXbRb#OXKDU_Pl2mrx861D_Std81Id-GelfmvDdq0p4XEfK6M
        - https://mega.nz/file/gmFnAYTC#RA3TXbu8Bc3OfwfCMKXUnw0syZNeCf53RjiSlnhYU74
        - https://mega.nz/file/Jm9QjZ5b#o7d0MhWddWZEvOctRXNuYCP8aUHYjkEndPQunc9TAmI
        - https://mega.nz/file/o7tCxQYK#XvB8tcW67omZrRRzePKGqh7FvbDPULiZKGye16LV0RY
        - https://mega.nz/file/R7FiwZyS#FP87ARvGLF3NvR9sHoZSYrIjz8igEKkVOCIFKo3dWM8
        - https://mega.nz/file/FnMCSAjR#f2tQ6boYNKq8n7l7JkVnL08phjyCaeDEn8MmQx-GPfs
        - https://mega.nz/file/J6EHnACT#4XdDdHdbIzq-PA3TNq0hfdZ1EGiKMixfrbFsi0D_9Ps
        - https://mega.nz/file/QvMlGaab#TMW3FCqANFV_M6mUTx-xAsYFMM_oZCR8EGuIz0ybOzQ
        - https://mega.nz/file/9ukA1ZqI#Pty5gtmpYLc4reWfwzQgIoLBfFBJQehmpS5IRIIBFcU
        - https://mega.nz/file/pudjlBZT#O_CJa61O9nTDCGS4IKc1uPlWRXHE9A4BrO-aVjI7p8Q
        - https://mega.nz/file/wrcGXIwS#Fea7ZGPEYIRLnlI_83LMa7qw9zmecmLNwlwgjOzzJUI
        - https://mega.nz/file/0u0XiboR#2uRxNYKFum8LFoQK73gmBmDxzjtDIQS39L_5puvPA0E
        - https://mega.nz/file/1nlQxCiI#LwQOItqjEIoxG2ocVwzGTxfLfG-ogxlkoJ_9BMGToAI
        - https://mega.nz/file/g3VGmazZ#kMTjBZ0d7QZ5dNs66eZELRrS5Jxsvx_I6cf-qln3GOQ
        - https://mega.nz/file/Zq8xSSwa#4pdxJq5CvfLm0MijotoYtDL8T-kIYPnpUTt5OPqBGtI
        - https://mega.nz/file/gCEG3CYb#3fvufzOrV3P6uk7RFSMK1-wH62_JE7BW5suoaEiO1rY
        - https://mega.nz/file/Jq0DRSiI#pEA_1BcCUtCBVjtwabL_mVvXL5ocX7LmSkLy_XDm0a4
        - https://mega.nz/file/0qMwEZwJ#udWxlAalv5TG5ydi_zyMZyQ3QhkaUhRh6hddKfXdfIU
        - https://mega.nz/file/onFjhbCT#dBDw90F6pK23srSscu9r5mXmfE-YSDPo-yagEQuTL1Y
        - https://mega.nz/file/Z2cU1b6S#DT5Kk0QVKOpMML8Gn7CJ3Il74Kg7f84XGMVGOdU5a-w
        - https://mega.nz/file/Z3s1HR7A#r5E62-Ueg0AELmA16waHyXIhuNBLJ6pUGUCCsyK6Mfk
        - https://mega.nz/file/Futh0baQ#0EkHMOqQhk2WoUOP6fKG0RJS9xvC8WKoIybvagxv5bQ
        - https://mega.nz/file/1rMTwTrB#zY47wkA986ajlU4bhCXtU9OI9lT39kJt3i3T-wFYb9c
        - https://mega.nz/file/AjFwxCBB#-twk3Xqssh7Mk2vgHfInjgWdM61q1kcQeeXPJJJ5nWc
        - https://mega.nz/file/FyEjxL5A#iHAJnx37Imy9YIUYtajqRA_c91L6XLMy9eiwmiqcF6A
        - https://mega.nz/file/YvsUyJoR#FOFnp-DDKeAwqcHRikz3KVGfThaNg7rpMU9p1-EdolY
        - https://mega.nz/file/Ej0TAbBI#GzQyqTPTbdudtwEq7dl-fFNlR9BvSA_8XcgT0Uy3s-Q
        - https://mega.nz/file/47FhTL7b#sPo6gFY2f9Ub5ximELkSuLsUnLlvJYWDV1id4P3D_xU
        - https://mega.nz/file/MzkyzDrC#3sa_50phWmFATILiahLLsDl2u8kSK2wtgtyu1W-MEYc
        - https://mega.nz/file/tykiiKzI#XjgQPlaiNpvBUHmosNLjj7YrhTfF0WXM4Wn73vXp0AI
        - https://mega.nz/file/Y3l0nSrD#8Gp36sSyeMKyRN0_c_CF_2ETSPpFc9aor-8JpA0Yyew
        - https://mega.nz/file/JuFhzIjA#qol4Ulh9EMZ8kvZredCPrk9WXBzu3J3Yagth0X1UQFg
        - https://mega.nz/file/c3dEDK7J#tV9jbDBTQFfMU4NaqkX4nxLAdfSSs_CuFmLHUf3Vp58
        - https://mega.nz/file/IvdBhTAR#ttfBwtlM5SMfbe6U2f9WJe8Qzy7fop_KfzaSUpktNjw
        - https://mega.nz/file/JvkwxKAa#s8lTuEjl9NmsBhiopJ5KKwvpEUVqgyUvpQShz0uKro0
        - https://mega.nz/file/si0xVYAD#Tpz8S_n9WZVOr7Jbqc58HiulH9FKg1ccWM6iQOOKxHw
        - https://mega.nz/file/Z78g3LyZ#r3mbvHux3TA-6_ivwvXKx8Z5u_W7X3Qwi6sB0F8zEvw
        - https://mega.nz/file/93shVCDI#Ur-WM7NM9dcraSo6h8g7yXfk0EEqkeJqbFshn70vggE
        - https://mega.nz/file/VrEhxaqA#Zh0NerWmkV5ynNAqX4tndaDnePqKqU0s6ddXVSw9CrU
        - https://mega.nz/file/ovE2nCRR#FSC3kopzlu7JjMeUwLT_euPEpMGfyhJz49PSFhVR5kM
        - https://mega.nz/file/53sByQDD#P5PKkMmxoRDSOC2H05TQTGct3PcU_WwnPXjT4gvit3c
        - https://mega.nz/file/4u9kGRKB#6dWxBEAUlQA7cr6zrC34jMwUXfoYehGArwiqvdoEEtE
        - https://mega.nz/file/0rlRDLpA#vt9Bg1L0fO-4xQJeWjqmRzU7CTFH75G0I_81b8AkVLw
        - https://mega.nz/file/BrtFkBoQ#CRt7xEF2vCTS8J8tI7eWP8o8o8s5yGhqaK-ny9uOaVc
        - https://mega.nz/file/Yu1wiRKC#eGZiwp2xbvc8nS31NF-rXjQkdHq0JRskoMgzdjO86L0
        - https://mega.nz/file/Vz1QyZDQ#LULYoxg-juWKGmPRJ9QI7BD2w2z8vFU_-CMJaMBRZ2c
        - https://mega.nz/file/xjlTmDrL#o31l2RK22QLVUlRt6SBTPUicPGCrf7GWlpUk6dPMOlk
        - https://mega.nz/file/QuUjzKhC#gQoITl_yjnTssKBFmN12_45p4ZXwlMd7EOvX8p5gmMU
        - https://mega.nz/file/h7MnWRqA#Dc8AF2Gd14dBDprTagLTh3NxS-VLL3KItbce82N9Of0
        - https://mega.nz/file/xqtiCLzS#OA1Jw3DmAdJpH5uDYnjsja3j-eS6v-Aft889sDo5eK8
        - https://mega.nz/file/07FziCob#EUwowzndHe58Q_jW02fqRzwzZee3usXPKZj43BnZNtc
        - https://mega.nz/file/onklzBTa#fx4QlG76ev4dzGsuIBt2Kt37Lls2bQQG-kOhiFhFAEk
        - https://mega.nz/file/03tTHBCS#VHBGW1yJCa0I_KrUR_Ws1I_wBno7PtMep45cnqIg41c
        - https://mega.nz/file/hK9hjCqC#ToPBx9y8vTjxsve4BGZWNVayUx__TR-4xjHzuDWBe2U
        - https://mega.nz/file/BmFX3YrB#IsynWNj8RrJcB1z05QZGPeq-8RQJR29WuXTn30TDqj8
        - https://mega.nz/file/lX1yjTBT#2sgquUa0qSFxUzTCrn-8Qb0haERwU6ffGUF6ylTPLz8
        - https://mega.nz/file/pjsxgCIa#_jovPmT8bmdbqMULKvF57SdZssAX76XXrJ4yqz4FOPM
        - https://mega.nz/file/YKlkjIQb#-F8CXA9doy_44nIFqkzrLBz0PSR_9UBw93UnspkjY4s
        - https://mega.nz/file/0L9mxTjL#DaKiknrPWh_G9toEzRL05e-rw2v-_tqCiMw8SolvgBs
        - https://mega.nz/file/hy8yhKYJ#XDO1OWyCgkKT1AAP8yzDmIku-FEOeXBDhGlCEAK2JYA
        - https://mega.nz/file/gOd13ATb#sGM6hbaDB_DFGnGZx8l2Te8Qwa0sM5rsfofigTrXcOI
        - https://mega.nz/file/YicEmK4Q#3INKtOELvV3DHTZJSEX8Dcn5Cp5CCzkJmlW27qEIPE8
        - https://mega.nz/file/MKEwADLb#TnE8HftcrrN2yQMcdQRAA-uvAhii0IZMaBqTYbK-oBc
        - https://mega.nz/file/p7EiyLQL#J8IX06zXmc0oI2eAxmp2s_obmS_0bKCUmfbZaTIogbo
        - https://mega.nz/file/kn0zgThQ#MlpOgglVpd_UUhIIbTuJl2eOyzhFfSTR0Q8aSfnyEys
        - https://mega.nz/file/ludmBIJY#BrCCIObHVu-HZ6CH_a7cqtzd02irY3qat3npR4cTEno
        - https://mega.nz/file/l7kRELII#SmfBJY3I66ycwJ05aNPbtCQ_VxK5fC7awNvp-AC9efI
        - https://mega.nz/file/RmNmib4R#ZAkmusaaF32UgpC3ZliBrX8RX8LEjD_I73Ie7SoMKuc
        - https://mega.nz/file/VuUWjQxZ#dm5TMa7lnqelvmsyRBf1QB21DaCDnKgtRGLlvY7Ip_M
        - https://mega.nz/file/xycmEKwD#oROlh8uC1QJVd-xeo4BKro36h-vlSoQm51avB85RQrs
        - https://mega.nz/file/17NAyKpb#2FdEd4-K7OqWV3LjZWebuOARJi4DSH9NungJQ92cq_E
        - https://mega.nz/file/FzUSUA5b#d9ZItepCUA7lxHN_ELJVfMfvd4ldpwKsYFZ0JEwJ_tw
        - https://mega.nz/file/1uE3BKyS#XnmJA85Qlf5GMhHOs54ZY5VoEqpfe44_XM36kuo68Z8
        - https://mega.nz/file/h2cnCQLQ#pTrByKykES0ku6uFclLYkzHvQMqXG93q-UNM8l3DN1I
        - https://mega.nz/file/0idGEArK#0G1LAd4TECN1hC0TfyagjlXIg8k2fJ5QSC514WIicWQ
        - https://mega.nz/file/J70gzCRB#z8ApAh_u8pcjDG_9BNQduEQSlzLasfnyGjoJix55qMs
        - https://mega.nz/file/xD9gRJ6Y#6uX1R5ZgRB4VDXqIkvPRCHwfv_VOKNI-ZwMvDKLw8pc
        - https://mega.nz/file/xGsAgSiA#tl6CWZiO0PGPy1fZ4IERHQRwefNX34hg2lChOSfzllw
        - https://mega.nz/file/N7sRVa4Y#NDnlr1n4lOEj9Pq41xWV1RzTv2nE5Cq190QGSVGJsC4
        - https://mega.nz/file/c7N30KpS#luEsQhGtuNpxZvnboZb2QqFL_BwxXMiPUmrI7Fea7EQ
    runs-on: ubuntu-latest
    steps:
    - uses: actions/cache@v4
      id: cache
      with:
        path: megatools-1.11.1.20230212-linux-x86_64
        key: megatools-1.11.1.20230212-linux-x86_64
    - name: Mega
      if: steps.cache.outputs.cache-hit != 'true'
      run: |
        curl -OL https://megatools.megous.com/builds/builds/megatools-1.11.1.20230212-linux-x86_64.tar.gz
        tar xvf *.gz
    - name: Leech
      run: |
        mkdir leech
        megatools*/megatools dl --path leech/ ${{ matrix.url }}
        cd leech
        find . -size +1960M -exec split -b 1G --numeric-suffixes=1 {} {}.0 \;
        find . -size +1960M -exec rm {} \;
    - name: Upload
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: leech/*
        tag: latest
        overwrite: true
        file_glob: true
